#COMBAT ROUTINE VER 1.54
#IF=%FirstTime,;
#SmoothBackground
UseSpeed=1;
#UseGravity
#UseCollision
#UseLoop
Command=;
#NeedResolution=816,638;
Delay=300;
#NeedResolution=816,638;
#DisableScrolling
RequireVersion=3.93;
#EnableChatLog
#ClearChatLog
_SetVar1=0;
_SetVar2=0;
_SetVar3=0;
_SetVar4=0;
_SetVar19=0;
#UseIDPerformance

_SetVar5=0;
_SetArray2=None,None;

#SmoothBackground
#UseMiol
Delay=250;
#UseMiol
Command=;
#ShowLog
MemWrite=%AddrFreeMem4,%Var4,BYTE;
MemWrite=%AddrFreeMem2,%Var5,BYTE;
MemWrite=%AddrFreeMem6,0,BYTE;
_IFMemPtrRead=%PlayerBase,%OffsetLevel,BYTE,>64;
#SmartSkillPerformance
EXECUTE=Return; <-- add a "#" to the beginning of the line to start from obelisk
#ENDIF

_IFMemRead=%AddrPet,BYTE,65-122; <-- If pet outside
_SetVar16=1;
MemWrite=%AddrFreeMem16,%Var16,BYTE;
#ELSE
_SetVar16=0;
MemWrite=%AddrFreeMem16,%Var16,BYTE;
#ENDIF

_IFMemRead=%AddrFreeMem16,BYTE,=1;
#EXECUTE=ActivateLootPet;
#ENDIF

#EXECUTE=CheckDead;

_IFMemRead=%AddrFreeMem2,BYTE,=1;
_MemPtrReadVar=%AddrMaxSlots,%OffsetMaxSlots,BYTE,6;
_Calc6=%Var6-5;
_IFMemPtrRead=%AddrSlots,%OffsetSlots,BYTE,>%Var6;
#EXECUTE=InventoryCheck;
#ENDIF

#EXECUTE=Route;

start_Route;

MoveSmooth=846,1761;
Command=/select Virago Nest;
_IFMemPtrRead=%TargetBase,%OffsetName,WCHAR[64],=Virago Nest;
#EXECUTE=CombatSort;
#ENDIF

_IFQuestAtStatus=15529,4;
MoveSmooth=846,1761;
MoveSmooth=849,1762;
#EXECUTE=Deathcheck;
MoveSmooth=854,1765;
MoveSmooth=859,1767;
MoveSmooth=865,1769;
MoveSmooth=870,1771;
MoveSmooth=875,1774;
MoveSmooth=878,1779;
MoveSmooth=879,1784;
MoveSmooth=880,1790;
MoveSmooth=880,1796;
MoveSmooth=881,1801;
MoveSmooth=882,1807;
MoveSmooth=882,1813;
MoveSmooth=881,1818;
MoveSmooth=877,1823;
MoveSmooth=872,1826;
MoveSmooth=868,1829;
MoveSmooth=863,1832;
MoveSmooth=858,1835;
MoveSmooth=853,1838;
MoveSmooth=849,1842;
MoveSmooth=845,1846;
MoveSmooth=842,1851;
MoveSmooth=839,1856;
Command=/select Fione;
Delay=500;
Command=/attack;
Delay=500;
Mouse=134,200;
Delay=500;
Mouse=84,188;
Delay=500;
Mouse=74,224;
Delay=500;
Mouse=183,391;

MemWrite=%AddrFreeMem12,1,BYTE;
#EndScript

#ELSE
MoveSmooth=847,1761;
MoveSmooth=850,1763;
#EXECUTE=Deathcheck;
MoveSmooth=855,1766;
MoveSmooth=860,1768;
MoveSmooth=866,1769;
MoveSmooth=871,1770;
MoveSmooth=877,1771;
MoveSmooth=883,1770;
MoveSmooth=887,1767;
MoveSmooth=891,1763;
MoveSmooth=894,1758;
MoveSmooth=896,1753;
MoveSmooth=897,1747;
MoveSmooth=898,1741;
MoveSmooth=898,1735;
MoveSmooth=899,1730;
MoveSmooth=900,1724;
MoveSmooth=902,1719;
MoveSmooth=902,1713;
MoveSmooth=902,1707;
MoveSmooth=902,1702;
MoveSmooth=901,1696;
MoveSmooth=899,1691;
MoveSmooth=897,1685;
MoveSmooth=894,1680;
MoveSmooth=891,1675;
MoveSmooth=889,1670;
MoveSmooth=887,1665;
MoveSmooth=886,1659;
MoveSmooth=888,1654;
MoveSmooth=891,1649;
MoveSmooth=894,1644;
MoveSmooth=897,1639;
MoveSmooth=901,1635;
MoveSmooth=904,1630;
MoveSmooth=906,1628;
#EXECUTE=Deathcheck;
MoveSmooth=906,1627;
Command=/select Virago Nest;
_IFMemPtrRead=%TargetBase,%OffsetName,WCHAR[64],=Virago Nest;
#EXECUTE=CombatSort;
#ENDIF

_IFQuestAtStatus=15529,4;
MoveSmooth=906,1627;
MoveSmooth=904,1632;
#EXECUTE=Deathcheck;
MoveSmooth=901,1637;
MoveSmooth=898,1642;
MoveSmooth=895,1647;
MoveSmooth=892,1652;
MoveSmooth=891,1657;
MoveSmooth=891,1663;
MoveSmooth=893,1669;
MoveSmooth=894,1674;
MoveSmooth=895,1680;
MoveSmooth=896,1685;
MoveSmooth=896,1691;
MoveSmooth=896,1697;
MoveSmooth=896,1703;
MoveSmooth=896,1708;
MoveSmooth=896,1714;
MoveSmooth=896,1720;
MoveSmooth=896,1726;
MoveSmooth=896,1731;
MoveSmooth=896,1737;
MoveSmooth=895,1743;
MoveSmooth=895,1748;
MoveSmooth=893,1754;
MoveSmooth=891,1759;
MoveSmooth=889,1765;
MoveSmooth=887,1770;
MoveSmooth=885,1775;
MoveSmooth=883,1781;
MoveSmooth=882,1786;
MoveSmooth=882,1792;
MoveSmooth=882,1798;
MoveSmooth=883,1803;
MoveSmooth=883,1809;
MoveSmooth=882,1815;
MoveSmooth=879,1819;
MoveSmooth=875,1823;
MoveSmooth=870,1827;
MoveSmooth=865,1830;
MoveSmooth=861,1833;
MoveSmooth=856,1836;
MoveSmooth=851,1840;
MoveSmooth=847,1844;
MoveSmooth=844,1848;
MoveSmooth=840,1853;
MoveSmooth=839,1855;
Command=/select Fione;
Delay=500;
Command=/attack;
Delay=500;
Mouse=134,200;
Delay=500;
Mouse=84,188;
Delay=500;
Mouse=74,224;
Delay=500;
Mouse=183,391;

MemWrite=%AddrFreeMem12,1,BYTE;
#EndScript

#ELSE
MoveSmooth=907,1628;
MoveSmooth=904,1630;
#EXECUTE=Deathcheck;
MoveSmooth=900,1634;
MoveSmooth=896,1638;
MoveSmooth=892,1642;
MoveSmooth=888,1646;
MoveSmooth=882,1648;
MoveSmooth=877,1650;
MoveSmooth=871,1651;
MoveSmooth=866,1652;
MoveSmooth=860,1653;
MoveSmooth=854,1653;
MoveSmooth=849,1654;
MoveSmooth=843,1656;
MoveSmooth=837,1657;
MoveSmooth=832,1658;
MoveSmooth=826,1659;
MoveSmooth=821,1661;
MoveSmooth=815,1662;
MoveSmooth=810,1664;
MoveSmooth=804,1665;
MoveSmooth=799,1666;
MoveSmooth=793,1668;
MoveSmooth=788,1669;
MoveSmooth=782,1671;
MoveSmooth=777,1673;
MoveSmooth=771,1674;
MoveSmooth=766,1676;
MoveSmooth=760,1678;
MoveSmooth=755,1680;
MoveSmooth=750,1682;
MoveSmooth=745,1685;
MoveSmooth=740,1688;
MoveSmooth=735,1691;
MoveSmooth=730,1694;
MoveSmooth=725,1697;
MoveSmooth=721,1701;
MoveSmooth=716,1704;
MoveSmooth=712,1708;
MoveSmooth=709,1713;
MoveSmooth=705,1717;
MoveSmooth=701,1722;
MoveSmooth=698,1726;
MoveSmooth=695,1731;
MoveSmooth=693,1736;
MoveSmooth=690,1741;
MoveSmooth=687,1746;
MoveSmooth=685,1752;
MoveSmooth=682,1757;
MoveSmooth=679,1762;
MoveSmooth=677,1767;
MoveSmooth=674,1772;
MoveSmooth=671,1777;
MoveSmooth=670,1782;
MoveSmooth=669,1788;
MoveSmooth=669,1794;
MoveSmooth=668,1799;
MoveSmooth=666,1805;
MoveSmooth=665,1810;
MoveSmooth=663,1816;
MoveSmooth=661,1821;
MoveSmooth=659,1827;
MoveSmooth=658,1832;
MoveSmooth=657,1838;
MoveSmooth=655,1843;
MoveSmooth=653,1849;
MoveSmooth=652,1854;
MoveSmooth=650,1860;
MoveSmooth=649,1865;
MoveSmooth=645,1869;
MoveSmooth=640,1872;
MoveSmooth=634,1874;
MoveSmooth=629,1876;
MoveSmooth=625,1878;
MoveSmooth=624,1878;
MoveSmooth=621,1882;
#EXECUTE=Deathcheck;
MoveSmooth=620,1883;
Command=/select Virago Nest;
_IFMemPtrRead=%TargetBase,%OffsetName,WCHAR[64],=Virago Nest;
#EXECUTE=CombatSort;
#ENDIF

_IFQuestAtStatus=15529,4;
MoveSmooth=622,1882;
MoveSmooth=626,1878;
#EXECUTE=Deathcheck;
MoveSmooth=630,1875;
MoveSmooth=635,1871;
MoveSmooth=639,1868;
MoveSmooth=644,1864;
MoveSmooth=648,1860;
MoveSmooth=651,1855;
MoveSmooth=652,1850;
MoveSmooth=654,1844;
MoveSmooth=656,1839;
MoveSmooth=658,1833;
MoveSmooth=660,1828;
MoveSmooth=662,1823;
MoveSmooth=664,1817;
MoveSmooth=666,1812;
MoveSmooth=667,1806;
MoveSmooth=667,1800;
MoveSmooth=666,1795;
MoveSmooth=666,1789;
MoveSmooth=668,1784;
MoveSmooth=670,1778;
MoveSmooth=673,1773;
MoveSmooth=676,1768;
MoveSmooth=679,1764;
MoveSmooth=682,1758;
MoveSmooth=685,1753;
MoveSmooth=687,1749;
MoveSmooth=690,1744;
MoveSmooth=693,1739;
MoveSmooth=696,1734;
MoveSmooth=699,1729;
MoveSmooth=701,1724;
MoveSmooth=705,1719;
MoveSmooth=708,1714;
MoveSmooth=712,1710;
MoveSmooth=716,1706;
MoveSmooth=720,1701;
MoveSmooth=724,1697;
MoveSmooth=728,1693;
MoveSmooth=732,1690;
MoveSmooth=738,1688;
MoveSmooth=743,1686;
MoveSmooth=749,1684;
MoveSmooth=754,1682;
MoveSmooth=759,1680;
MoveSmooth=765,1679;
MoveSmooth=770,1677;
MoveSmooth=776,1675;
MoveSmooth=781,1674;
MoveSmooth=787,1672;
MoveSmooth=792,1670;
MoveSmooth=798,1669;
MoveSmooth=803,1667;
MoveSmooth=809,1665;
MoveSmooth=814,1664;
MoveSmooth=820,1662;
MoveSmooth=825,1660;
MoveSmooth=831,1659;
MoveSmooth=836,1658;
MoveSmooth=842,1657;
MoveSmooth=848,1657;
MoveSmooth=854,1657;
MoveSmooth=859,1658;
MoveSmooth=865,1659;
MoveSmooth=870,1660;
MoveSmooth=876,1662;
MoveSmooth=881,1665;
MoveSmooth=885,1668;
MoveSmooth=889,1673;
MoveSmooth=892,1677;
MoveSmooth=895,1682;
MoveSmooth=896,1688;
MoveSmooth=897,1693;
MoveSmooth=897,1699;
MoveSmooth=897,1705;
MoveSmooth=897,1710;
MoveSmooth=897,1716;
MoveSmooth=897,1722;
MoveSmooth=897,1728;
MoveSmooth=896,1733;
MoveSmooth=895,1739;
MoveSmooth=894,1745;
MoveSmooth=893,1750;
MoveSmooth=892,1756;
MoveSmooth=891,1762;
MoveSmooth=890,1767;
MoveSmooth=889,1773;
MoveSmooth=888,1778;
MoveSmooth=887,1784;
MoveSmooth=886,1790;
MoveSmooth=885,1795;
MoveSmooth=884,1801;
MoveSmooth=883,1807;
MoveSmooth=882,1812;
MoveSmooth=879,1817;
MoveSmooth=875,1821;
MoveSmooth=871,1825;
MoveSmooth=866,1829;
MoveSmooth=862,1832;
MoveSmooth=857,1836;
MoveSmooth=853,1840;
MoveSmooth=849,1843;
MoveSmooth=845,1848;
MoveSmooth=842,1852;
MoveSmooth=840,1854;
Command=/select Fione;
Delay=500;
Command=/attack;
Delay=500;
Mouse=134,200;
Delay=500;
Mouse=84,188;
Delay=500;
Mouse=74,224;
Delay=500;
Mouse=183,391;

MemWrite=%AddrFreeMem12,1,BYTE;
#EndScript

#ELSE
MoveSmooth=619,1884;
MoveSmooth=622,1882;
#EXECUTE=Deathcheck;
MoveSmooth=627,1879;
MoveSmooth=632,1875;
MoveSmooth=636,1872;
MoveSmooth=641,1869;
MoveSmooth=645,1865;
MoveSmooth=649,1860;
MoveSmooth=651,1855;
MoveSmooth=653,1850;
MoveSmooth=655,1844;
MoveSmooth=657,1839;
MoveSmooth=658,1833;
MoveSmooth=660,1828;
MoveSmooth=661,1822;
MoveSmooth=660,1817;
MoveSmooth=658,1811;
MoveSmooth=656,1806;
MoveSmooth=653,1802;
MoveSmooth=648,1798;
MoveSmooth=642,1798;
MoveSmooth=637,1797;
MoveSmooth=631,1797;
MoveSmooth=625,1797;
MoveSmooth=619,1796;
MoveSmooth=614,1796;
MoveSmooth=608,1795;
MoveSmooth=602,1795;
MoveSmooth=597,1794;
MoveSmooth=591,1794;
MoveSmooth=585,1793;
MoveSmooth=580,1793;
MoveSmooth=578,1793;
MoveSmooth=572,1793;
MoveSmooth=566,1794;
MoveSmooth=560,1794;
MoveSmooth=554,1795;
MoveSmooth=549,1796;
MoveSmooth=543,1797;
MoveSmooth=537,1797;
MoveSmooth=532,1798;
MoveSmooth=527,1801;
MoveSmooth=525,1807;
MoveSmooth=523,1812;
MoveSmooth=518,1815;
MoveSmooth=513,1818;
MoveSmooth=508,1820;
MoveSmooth=503,1823;
MoveSmooth=499,1827;
MoveSmooth=497,1832;
#EXECUTE=Deathcheck;
MoveSmooth=497,1836;
Command=/select Virago Nest;
_IFMemPtrRead=%TargetBase,%OffsetName,WCHAR[64],=Virago Nest;
#EXECUTE=CombatSort;
#ENDIF

_IFQuestAtStatus=15529,4;
MoveSmooth=497,1837;
MoveSmooth=497,1836;
#EXECUTE=Deathcheck;
MoveSmooth=497,1830;
MoveSmooth=497,1825;
MoveSmooth=499,1820;
MoveSmooth=505,1819;
MoveSmooth=510,1816;
MoveSmooth=514,1812;
MoveSmooth=516,1807;
MoveSmooth=520,1803;
MoveSmooth=526,1801;
MoveSmooth=531,1800;
MoveSmooth=537,1799;
MoveSmooth=543,1798;
MoveSmooth=549,1798;
MoveSmooth=554,1797;
MoveSmooth=560,1796;
MoveSmooth=566,1796;
MoveSmooth=571,1795;
MoveSmooth=577,1794;
MoveSmooth=583,1793;
MoveSmooth=588,1792;
MoveSmooth=594,1791;
MoveSmooth=600,1791;
MoveSmooth=605,1790;
MoveSmooth=611,1790;
MoveSmooth=617,1790;
MoveSmooth=622,1789;
MoveSmooth=628,1789;
MoveSmooth=634,1788;
MoveSmooth=639,1787;
MoveSmooth=645,1785;
MoveSmooth=650,1782;
MoveSmooth=655,1780;
MoveSmooth=660,1777;
MoveSmooth=665,1774;
MoveSmooth=670,1771;
MoveSmooth=674,1767;
MoveSmooth=678,1763;
MoveSmooth=682,1759;
MoveSmooth=685,1754;
MoveSmooth=688,1749;
MoveSmooth=690,1744;
MoveSmooth=693,1739;
MoveSmooth=696,1734;
MoveSmooth=699,1729;
MoveSmooth=701,1724;
MoveSmooth=705,1719;
MoveSmooth=709,1715;
MoveSmooth=713,1711;
MoveSmooth=717,1707;
MoveSmooth=721,1703;
MoveSmooth=725,1698;
MoveSmooth=729,1694;
MoveSmooth=733,1691;
MoveSmooth=738,1689;
MoveSmooth=744,1687;
MoveSmooth=749,1685;
MoveSmooth=754,1683;
MoveSmooth=760,1682;
MoveSmooth=765,1680;
MoveSmooth=771,1678;
MoveSmooth=776,1676;
MoveSmooth=782,1675;
MoveSmooth=787,1673;
MoveSmooth=793,1671;
MoveSmooth=798,1669;
MoveSmooth=804,1667;
MoveSmooth=809,1665;
MoveSmooth=814,1663;
MoveSmooth=820,1661;
MoveSmooth=825,1659;
MoveSmooth=830,1657;
MoveSmooth=836,1656;
MoveSmooth=841,1655;
MoveSmooth=847,1655;
MoveSmooth=853,1655;
MoveSmooth=858,1656;
MoveSmooth=864,1658;
MoveSmooth=869,1660;
MoveSmooth=873,1664;
MoveSmooth=878,1668;
MoveSmooth=882,1671;
MoveSmooth=886,1675;
MoveSmooth=890,1680;
MoveSmooth=891,1685;
MoveSmooth=893,1691;
MoveSmooth=894,1697;
MoveSmooth=895,1702;
MoveSmooth=896,1708;
MoveSmooth=896,1714;
MoveSmooth=897,1719;
MoveSmooth=896,1725;
MoveSmooth=895,1731;
MoveSmooth=894,1736;
MoveSmooth=894,1742;
MoveSmooth=893,1748;
MoveSmooth=892,1753;
MoveSmooth=891,1759;
MoveSmooth=890,1765;
MoveSmooth=889,1770;
MoveSmooth=888,1776;
MoveSmooth=887,1782;
MoveSmooth=886,1787;
MoveSmooth=885,1793;
MoveSmooth=884,1799;
MoveSmooth=884,1804;
MoveSmooth=883,1810;
MoveSmooth=880,1815;
MoveSmooth=877,1820;
MoveSmooth=872,1823;
MoveSmooth=868,1827;
MoveSmooth=863,1830;
MoveSmooth=859,1834;
MoveSmooth=854,1838;
MoveSmooth=850,1841;
MoveSmooth=846,1846;
MoveSmooth=843,1850;
MoveSmooth=840,1854;
MoveSmooth=839,1855;
Command=/select Fione;
Delay=500;
Command=/attack;
Delay=500;
Mouse=134,200;
Delay=500;
Mouse=84,188;
Delay=500;
Mouse=74,224;
Delay=500;
Mouse=183,391;

MemWrite=%AddrFreeMem12,1,BYTE;
#EndScript

#ELSE
MoveSmooth=497,1836;
MoveSmooth=498,1832;
#EXECUTE=Deathcheck;
MoveSmooth=500,1826;
MoveSmooth=503,1821;
MoveSmooth=506,1816;
MoveSmooth=509,1812;
MoveSmooth=513,1807;
MoveSmooth=518,1804;
MoveSmooth=524,1803;
MoveSmooth=530,1801;
MoveSmooth=535,1800;
MoveSmooth=541,1799;
MoveSmooth=547,1799;
MoveSmooth=552,1798;
MoveSmooth=558,1797;
MoveSmooth=564,1796;
MoveSmooth=570,1795;
MoveSmooth=575,1794;
MoveSmooth=581,1794;
MoveSmooth=587,1794;
MoveSmooth=592,1794;
MoveSmooth=598,1794;
MoveSmooth=604,1794;
MoveSmooth=609,1793;
MoveSmooth=615,1792;
MoveSmooth=621,1791;
MoveSmooth=626,1790;
MoveSmooth=632,1788;
MoveSmooth=637,1787;
MoveSmooth=643,1785;
MoveSmooth=648,1783;
MoveSmooth=653,1781;
MoveSmooth=658,1778;
MoveSmooth=663,1775;
MoveSmooth=667,1771;
MoveSmooth=672,1768;
MoveSmooth=676,1764;
MoveSmooth=680,1759;
MoveSmooth=683,1755;
MoveSmooth=686,1750;
MoveSmooth=689,1745;
MoveSmooth=693,1740;
MoveSmooth=696,1736;
MoveSmooth=699,1731;
MoveSmooth=702,1726;
MoveSmooth=705,1721;
MoveSmooth=709,1717;
MoveSmooth=712,1712;
MoveSmooth=715,1707;
MoveSmooth=719,1703;
MoveSmooth=724,1700;
MoveSmooth=728,1696;
MoveSmooth=732,1692;
MoveSmooth=737,1689;
MoveSmooth=742,1686;
MoveSmooth=747,1684;
MoveSmooth=753,1682;
MoveSmooth=758,1680;
MoveSmooth=764,1679;
MoveSmooth=769,1677;
MoveSmooth=775,1676;
MoveSmooth=780,1674;
MoveSmooth=786,1673;
MoveSmooth=791,1671;
MoveSmooth=797,1669;
MoveSmooth=802,1668;
MoveSmooth=807,1666;
MoveSmooth=813,1664;
MoveSmooth=818,1662;
MoveSmooth=823,1660;
MoveSmooth=829,1658;
MoveSmooth=834,1656;
MoveSmooth=840,1655;
MoveSmooth=846,1655;
MoveSmooth=851,1655;
MoveSmooth=857,1655;
MoveSmooth=863,1656;
MoveSmooth=868,1658;
MoveSmooth=873,1661;
MoveSmooth=878,1664;
MoveSmooth=882,1668;
MoveSmooth=886,1672;
MoveSmooth=890,1676;
MoveSmooth=893,1681;
MoveSmooth=895,1686;
MoveSmooth=897,1691;
MoveSmooth=898,1697;
MoveSmooth=898,1703;
MoveSmooth=898,1708;
MoveSmooth=898,1714;
MoveSmooth=898,1720;
MoveSmooth=897,1726;
MoveSmooth=896,1731;
MoveSmooth=896,1737;
MoveSmooth=894,1743;
MoveSmooth=893,1748;
MoveSmooth=892,1754;
MoveSmooth=891,1759;
MoveSmooth=890,1761;
MoveSmooth=886,1764;
MoveSmooth=880,1766;
MoveSmooth=875,1767;
MoveSmooth=869,1767;
MoveSmooth=863,1767;
MoveSmooth=858,1766;
MoveSmooth=852,1764;
#EXECUTE=Deathcheck;
MoveSmooth=847,1761;

end_Route;

start_Deathcheck;

_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,=0;
#EXECUTE=CheckDead;
#EXECUTE=Return;
#EXECUTE=Route;
#Return
#ENDIF

end_Deathcheck;

start_CheckMob;

#EXECUTE=ReplyWhispers;

_IFSkillActive=50045; <-- auto loot
_SetVar16=1;
MemWrite=%AddrFreeMem16,%Var16,BYTE;
#ELSE
_SetVar16=0;
MemWrite=%AddrFreeMem16,%Var16,BYTE;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
_IFMemRead=%AddrLangPack,CHAR[32],=L10N/ENU/;
#EXECUTE=CheckNA;
#ELSE
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=CheckEU;
#ENDIF

end_CheckMob;


start_Looting;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,=0;
_IFMemRead=%AddrFreeMem16,BYTE,=1;
#DO=5000;
_IFMemPtrRead=%TargetBase,%OffsetData/0x15B4,DWORD,>0; <-- is lootable
MemPtrWrite=%PlayerBase,%OffsetActionID,0x150000000100000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002,BYTE[225];
#ENDIF
_UNTILMemPtrRead=%TargetBase,%OffsetData/0x15B4,DWORD,=0; <-- is lootable

end_Looting;


start_ScanNearbyTarget;

MemWrite=%AddrFreeMem25,0,BYTE;

#DO=1500; <-- scans 5s for nearby target

MemWrite=%AddrCamY,85,FLOAT;
SendKey=0x09;
Delay=100;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%TargetBase,%OffsetType,CHAR[32],=NPC;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#IF=%TargetDistance,<5;
MemWrite=%AddrFreeMem25,1,BYTE;
#ENDIF

Delay=150;

_UNTILMemRead=%AddrFreeMem25,BYTE,=1;

end_ScanNearbyTarget;


start_CheckNA;

Command=/Automaticselection;
#DO=100;
Delay=5;
_UNTILMemPtrRead=%TargetBase,%OffsetName,BYTE,65-122;

_IFMemPtrRead=%PlayerBase,%OffsetLevel,BYTE,>20;
_IFMemPtrRead=%TargetBase,%OffsetLevel,BYTE,1-5;
SendKey=0x1B;
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,=0;
SendKey=0x1B;
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetType,CHAR[32],=User;
SendKey=0x1B;
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetType,CHAR[32],=Player;
SendKey=0x1B;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,=0;
SendKey=0x1B;
#ENDIF

MemPtrWrite=%AddrESChwnd,%OffsetESChwnd,142,BYTE;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%TargetBase,%OffsetType,CHAR[32],=NPC;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=CombatSort;
#EXECUTE=Looting;
#EXECUTE=ScanNearbyTarget;
_IFMemRead=%AddrFreeMem25,BYTE,=1;
#EXECUTE=CombatSort;
#EXECUTE=Looting;
#EXECUTE=ScanNearbyTarget;
_IFMemRead=%AddrFreeMem25,BYTE,=1;
#EXECUTE=CombatSort;
#EXECUTE=Looting;
#EXECUTE=ScanNearbyTarget;
_IFMemRead=%AddrFreeMem25,BYTE,=1;
#EXECUTE=CombatSort;
#EXECUTE=Looting;
#EXECUTE=ScanNearbyTarget;
_IFMemRead=%AddrFreeMem25,BYTE,=1;
#EXECUTE=CombatSort;
#EXECUTE=Looting;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetLevel,BYTE,>20;
_IFMemPtrRead=%TargetBase,%OffsetLevel,BYTE,1-5;
SendKey=0x1B;
#ENDIF

#IF=%TargetName,;
#ELSE
SendKey=0x1B;
Delay=5;
SendKey=0x1B;
Delay=5;
SendKey=0x1B;
Delay=5;
MemPtrWrite=%AddrESChwnd,%OffsetESChwnd,142,BYTE;
#ENDIF

#EXECUTE=RegenerateSort;

end_CheckNA;


start_CheckEU;

SendKey=0x09;
#DO=100;
Delay=5;
_UNTILMemPtrRead=%TargetBase,%OffsetName,BYTE,65-122;

_IFMemPtrRead=%PlayerBase,%OffsetLevel,BYTE,>20;
_IFMemPtrRead=%TargetBase,%OffsetLevel,BYTE,1-5;
SendKey=0x1B;
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,=0;
SendKey=0x1B;
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetType,CHAR[32],=User;
SendKey=0x1B;
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetType,CHAR[32],=Player;
SendKey=0x1B;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,=0;
SendKey=0x1B;
#ENDIF

MemPtrWrite=%AddrESChwnd,%OffsetESChwnd,142,BYTE;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%TargetBase,%OffsetType,CHAR[32],=NPC;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=CombatSort;
#EXECUTE=Looting;
#EXECUTE=ScanNearbyTarget;
_IFMemRead=%AddrFreeMem25,BYTE,=1;
#EXECUTE=CombatSort;
#EXECUTE=Looting;
#EXECUTE=ScanNearbyTarget;
_IFMemRead=%AddrFreeMem25,BYTE,=1;
#EXECUTE=CombatSort;
#EXECUTE=Looting;
#EXECUTE=ScanNearbyTarget;
_IFMemRead=%AddrFreeMem25,BYTE,=1;
#EXECUTE=CombatSort;
#EXECUTE=Looting;
#EXECUTE=ScanNearbyTarget;
_IFMemRead=%AddrFreeMem25,BYTE,=1;
#EXECUTE=CombatSort;
#EXECUTE=Looting;
#ENDIF

#IF=%TargetName,;
#ELSE
SendKey=0x1B;
Delay=5;
SendKey=0x1B;
Delay=5;
SendKey=0x1B;
Delay=5;
MemPtrWrite=%AddrESChwnd,%OffsetESChwnd,142,BYTE;
#ENDIF

#EXECUTE=RegenerateSort;

end_CheckEU;


start_CheckDead;

_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,=0;
#LogAddDeath
#DO=15000;
MemWrite=%AddrResurrect,0,BYTE; <- Resurrect
_UNTILMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
Delay=2500;
#EXECUTE=RegenerateSort;
MemPtrWrite=%PlayerBase,%OffsetActionID,15,BYTE;
MemPtrWrite=%PlayerBase,%OffsetActionID,3,BYTE;
Delay=2500;
#UseMiol
#EXECUTE=Return;
#EXECUTE=Route;
#Return
#ENDIF

_IFMemRead=%AddrPet,BYTE,65-122; <-- If pet outside
_SetVar16=1;
MemWrite=%AddrFreeMem16,%Var16,BYTE;
#ELSE
_SetVar16=0;
MemWrite=%AddrFreeMem16,%Var16,BYTE;
#ENDIF

end_CheckDead;


start_InventoryCheck;

#SELLMARK

end_InventoryCheck;


start_Return;

MoveSmooth=1401,1303;
MoveSmooth=1402,1303;
MoveSmooth=1406,1304;
MoveSmooth=1410,1303;
MoveSmooth=1413,1301;
MoveSmooth=1414,1297;
MoveSmooth=1415,1293;
MoveSmooth=1416,1290;
MoveSmooth=1417,1286;
MoveSmooth=1418,1282;
MoveSmooth=1420,1279;
MoveSmooth=1421,1275;
MoveSmooth=1422,1272;
MoveSmooth=1422,1268;
MoveSmooth=1422,1264;
MoveSmooth=1421,1261;
#DO=5000;
Command=/select Tasos;
Delay=150;
Command=/attack;
Delay=500;
_UNTILMemPtrRead=%AddrDialoghwnd,%OffsetDialoghwnd,BYTE,=175;
Delay=750;
_IFMemPtrRead=%AddrDialoghwnd,%OffsetDialoghwnd,BYTE,=175;
Delay=1000;
Mouse=109,165;
Delay=1500;
Mouse=158,207;
Delay=1500;
Mouse=445,340;
Delay=1500;
#DO=60000;
Delay=50;
#UNTIL=%Position,827.6/1847.5/309.5;
Delay=2500;
#ENDIF
MoveSmooth=828,1847;
MoveSmooth=832,1847;
MoveSmooth=837,1846;
MoveSmooth=843,1846;
MoveSmooth=848,1843;
MoveSmooth=852,1839;
MoveSmooth=857,1836;
MoveSmooth=861,1832;
MoveSmooth=866,1828;
MoveSmooth=870,1825;
MoveSmooth=875,1821;
MoveSmooth=878,1817;
MoveSmooth=881,1812;
MoveSmooth=883,1807;
MoveSmooth=883,1801;
MoveSmooth=882,1795;
MoveSmooth=882,1789;
MoveSmooth=881,1784;
MoveSmooth=878,1779;
MoveSmooth=874,1775;
MoveSmooth=869,1772;
MoveSmooth=863,1770;
MoveSmooth=858,1767;
MoveSmooth=853,1765;
MoveSmooth=848,1762;

end_Return;



start_RegenerateSort;

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=0;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<45;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=Regenerate;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=1;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<45;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=Regenerate;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=2;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<45;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=Regenerate;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=3;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<45;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=Regenerate;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=4;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<45;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=Regenerate;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=5;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<45;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=Regenerate;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=6;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<45;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=Regenerate;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=7;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<45;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=Regenerate;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=8;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<45;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=Regenerate;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=9;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<45;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=RegeneratePriest;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=10;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<45;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=RegenerateCleric;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=11;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<45;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=RegenerateChanter;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=12;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<45;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=Regenerate;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=13;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<45;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=Regenerate;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=14;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<45;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=Regenerate;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=15;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<45;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=RegenerateMuse;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=16;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<45;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=RegenerateSongweaver;
#ENDIF

_MemPtrReadVar=%PlayerBase,%OffsetMaxMP,WORD,11; <-- saves max MP in %Var11
_MemPtrReadVar=%PlayerBase,%OffsetMP,WORD,12; <-- saves current MP in %Var12
_Calc11=%Var12/%Var11; <-- divides %Var12 trough %Var11 and saves the result in %Var11
_Calc11=%Var11*100; <-- multiplies %Var11 with 100 and saves the result in %Var11
MemWrite=%AddrFreeMem12,%Var11,FLOAT; <-- writes current mana percent value in %AddrFreeMem12


_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=0;
_IFMemRead=%AddrFreeMem12,FLOAT,<20;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=Regenerate;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=1;
_IFMemRead=%AddrFreeMem12,FLOAT,<20;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=Regenerate;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=2;
_IFMemRead=%AddrFreeMem12,FLOAT,<20;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=Regenerate;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=3;
_IFMemRead=%AddrFreeMem12,FLOAT,<20;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=Regenerate;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=4;
_IFMemRead=%AddrFreeMem12,FLOAT,<20;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=Regenerate;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=5;
_IFMemRead=%AddrFreeMem12,FLOAT,<20;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=Regenerate;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=6;
_IFMemRead=%AddrFreeMem12,FLOAT,<20;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=Regenerate;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=7;
_IFMemRead=%AddrFreeMem12,FLOAT,<20;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=Regenerate;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=8;
_IFMemRead=%AddrFreeMem12,FLOAT,<20;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=Regenerate;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=9;
_IFMemRead=%AddrFreeMem12,FLOAT,<20;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=Regenerate;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=10;
_IFMemRead=%AddrFreeMem12,FLOAT,<20;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=Regenerate;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=11;
_IFMemRead=%AddrFreeMem12,FLOAT,<20;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=Regenerate;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=12;
_IFMemRead=%AddrFreeMem12,FLOAT,<20;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=Regenerate;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=13;
_IFMemRead=%AddrFreeMem12,FLOAT,<20;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=Regenerate;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=14;
_IFMemRead=%AddrFreeMem12,FLOAT,<20;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=Regenerate;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=15;
_IFMemRead=%AddrFreeMem12,FLOAT,<20;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=Regenerate;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=16;
_IFMemRead=%AddrFreeMem12,FLOAT,<20;
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
#EXECUTE=RegenerateSongweaver;
#ENDIF

end_RegenerateSort;


start_RegeneratePriest;

#DO=10000;

_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<100;
SmartSkill=1839,50,2250,False,False; <-- Healing Light
#ENDIF

_UNTILMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,>90;

end_RegeneratePriest;


start_RegenerateCleric;

#DO=10000;

_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<100;
SmartSkill=4212,6000,3250,False,False; <- Healing Grace
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<100;
SmartSkill=1850,50,2250,False,False; <- Healing Light
#ENDIF

_UNTILMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,>90;

end_RegenerateCleric;


start_RegenerateChanter;

#DO=10000;

_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<100;
SmartSkill=1860,10000,1100,False,False;               <-- Recovery Spell
#ENDIF


_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<100;
SmartSkill=1850,2000,0,False,False;                   <-- Healing Light
#ENDIF

_UNTILMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,>90;

end_RegenerateChanter;


start_RegenerateMuse;

#DO=10000;

_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<100;
SmartSkill=4339,6000,1250,False,False; <-- Soothing Melody
#ENDIF

_UNTILMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,>90;

end_RegenerateMuse;


start_RegenerateSongweaver;

#DO=10000;

_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<100;
SmartSkill=4351,6000,1250,3000,False; <- Soothing Melody
#ENDIF

_MemPtrReadVar=%PlayerBase,%OffsetMaxMP,WORD,11; <-- saves max MP in %Var11
_MemPtrReadVar=%PlayerBase,%OffsetMP,WORD,12; <-- saves current MP in %Var12
_Calc11=%Var12/%Var11; <-- divides %Var12 trough %Var11 and saves the result in %Var11
_Calc11=%Var11*100; <-- multiplies %Var11 with 100 and saves the result in %Var11
MemWrite=%AddrFreeMem12,%Var11,FLOAT; <-- writes current mana percent value in %AddrFreeMem12

_IFMemRead=%AddrFreeMem12,FLOAT,<20;
SmartSkill=4383,30000,500,False,False; <- Resonating Melody
#ENDIF

_IFMemRead=%AddrFreeMem12,FLOAT,<20;
SmartSkill=4571,6000,500,False,False; <- Resonating Counterpoint
#ENDIF

_UNTILMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,>90;

end_RegenerateSongweaver;



start_Regenerate;

_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<55;<-- Wait caused by Health
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
MemWrite=%AddrFreeMem18,1,BYTE;
MemPtrWrite=%PlayerBase,%OffsetActionID,3,BYTE;
Delay=50;
MemPtrWrite=%PlayerBase,%OffsetActionID,14,BYTE;
Delay=1500;
MemPtrWrite=%PlayerBase,%OffsetActionID,14,BYTE;
#DO=100000;
Delay=5;
#EXECUTE=AttackedWhileRest;
_UNTILMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,=100;
MemPtrWrite=%PlayerBase,%OffsetActionID,21,BYTE;
#ENDIF

_MemPtrReadVar=%PlayerBase,%OffsetMaxMP,WORD,11; <-- saves max MP in %Var11
_MemPtrReadVar=%PlayerBase,%OffsetMP,WORD,12; <-- saves current MP in %Var12
_Calc11=%Var12/%Var11; <-- divides %Var12 trough %Var11 and saves the result in %Var11
_Calc11=%Var11*100; <-- multiplies %Var11 with 100 and saves the result in %Var11
MemWrite=%AddrFreeMem12,%Var11,FLOAT; <-- writes current mana percent value in %AddrFreeMem12

_IFMemRead=%AddrFreeMem12,FLOAT,<20;<-- Wait caused by Mana
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
MemWrite=%AddrFreeMem18,1,BYTE;
MemPtrWrite=%PlayerBase,%OffsetActionID,3,BYTE;
Delay=50;
MemPtrWrite=%PlayerBase,%OffsetActionID,14,BYTE;
Delay=1500;
MemPtrWrite=%PlayerBase,%OffsetActionID,14,BYTE;
#DO=75000;
Delay=5;
#EXECUTE=AttackedWhileRest;

_MemPtrReadVar=%PlayerBase,%OffsetMaxMP,WORD,11; <-- saves max MP in %Var11
_MemPtrReadVar=%PlayerBase,%OffsetMP,WORD,12; <-- saves current MP in %Var12
_Calc11=%Var12/%Var11; <-- divides %Var12 trough %Var11 and saves the result in %Var11
_Calc11=%Var11*100; <-- multiplies %Var11 with 100 and saves the result in %Var11
MemWrite=%AddrFreeMem12,%Var11,FLOAT; <-- writes current mana percent value in %AddrFreeMem12

_UNTILMemRead=%AddrFreeMem12,FLOAT,>80;
MemPtrWrite=%PlayerBase,%OffsetActionID,21,BYTE;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetMovement,FLOAT,<6.0;<-- Wait caused by soulsickness
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,>0;
MemWrite=%AddrFreeMem18,1,BYTE;
MemPtrWrite=%PlayerBase,%OffsetActionID,3,BYTE;
Delay=50;
MemPtrWrite=%PlayerBase,%OffsetActionID,14,BYTE;
Delay=1500;
MemPtrWrite=%PlayerBase,%OffsetActionID,14,BYTE;
#DO=300000;
Delay=5;
#EXECUTE=AttackedWhileRest;
_UNTILMemPtrRead=%PlayerBase,%OffsetMovement,FLOAT,>6.0;
MemPtrWrite=%PlayerBase,%OffsetActionID,21,BYTE;
#ENDIF


_IFMemRead=%AddrFreeMem18,BYTE,=1;
MemPtrWrite=%PlayerBase,%OffsetActionID,3,BYTE;
Delay=50;
MemPtrWrite=%PlayerBase,%OffsetActionID,21,BYTE;

Delay=1000;
#ENDIF

end_Regenerate;


start_AttackedWhileRest;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%TargetBase,%OffsetType,CHAR[32],=NPC;
#EXECUTE=CheckSit;
#EXECUTE=CombatSort;
MemWrite=%AddrFreeMem16,%Var16,BYTE;
_IFMemRead=%AddrFreeMem16,BYTE,=0;
#DO=2000;
UseID=50002;
#UNTIL=%TargetName,;
#ENDIF

end_AttackedWhileRest;


start_CheckSit;

MemPtrWrite=%PlayerBase,%OffsetActionID,21,BYTE;
Delay=500;

end_CheckSit;


start_CombatScroll;

MemWrite=%AddrFreeMem0,%Var2,BYTE;

_IFMemRead=%AddrFreeMem0,BYTE,=2;
Command=/Use Greater Courage Scroll;
#ENDIF

_IFMemRead=%AddrFreeMem0,BYTE,=3;
Command=/Use Greater Awakening Scroll;
#ENDIF

_IFMemRead=%AddrFreeMem0,BYTE,=4;
Command=/Use Greater Courage Scroll;
#ENDIF

_IFMemRead=%AddrFreeMem0,BYTE,=5;
Command=/Use Greater Awakening Scroll;
#ENDIF

end_CombatScroll;


start_RunningScroll;

MemWrite=%AddrFreeMem0,%Var2,BYTE;

_IFMemRead=%AddrFreeMem0,BYTE,=1;
Command=/Use Greater Running Scroll;
#ENDIF

_IFMemRead=%AddrFreeMem0,BYTE,=4;
Command=/Use Greater Running Scroll;
#ENDIF

_IFMemRead=%AddrFreeMem0,BYTE,=5;
Command=/Use Greater Running Scroll;
#ENDIF

end_RunningScroll;


start_CombatSort;

_IFMemPtrRead=%PlayerBase,%OffsetData/0x38,BYTE,=1;
#DO=3000;
UseID=50000;
Command=/skill Toggle Combat;
Delay=1500;
_UNTILMemPtrRead=%PlayerBase,%OffsetData/0x38,BYTE,=33;
#ENDIF

_IFMemRead=%AddrFreeMem4,BYTE,=1;
MemPtrWrite=%PlayerBase,%OffsetAnim,300,WORD; <-- Activate NoAnim
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=0;
#EXECUTE=CombatWarrior;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=1;
#EXECUTE=CombatGladiator;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=2;
#EXECUTE=CombatTemplar;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=3;
#EXECUTE=CombatScout;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=4;
#EXECUTE=CombatAssassin;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=5;
#EXECUTE=CombatRanger;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=6;
#EXECUTE=CombatMage;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=7;
#EXECUTE=CombatSorcerer;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=8;
#EXECUTE=CombatSpiritmaster;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=9;
#EXECUTE=CombatPriest;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=10;
#EXECUTE=CombatCleric;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=11;
#EXECUTE=CombatChanter;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=12;
#EXECUTE=CombatTechnist;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=13;
#EXECUTE=CombatAethertech;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=14;
#EXECUTE=CombatGunslinger;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=15;
#EXECUTE=CombatMuse;
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetClassID,BYTE,=16;
#EXECUTE=CombatSongweaver;
#ENDIF

#LogAddKill

end_CombatSort;




start_CombatGladiator;

MemWrite=%AddrFreeMem6,0,BYTE;

GoTowardsTarget=<5,5000;

_IFBuffAlive=9959;
#ELSE
#EXECUTE=CombatScroll;
#ENDIF

SmartSkill=598,180000,300,False,False; <-- Berserking

SmartSkill=706,300000,750,False,False; <-- Wall of Steel

SmartSkill=620,180000,750,False,False; <-- Armor of Attrition

SmartSkill=2932,180000,750,False,False; <-- Unwavering Devotion

CreateTimer=999999;

#DO=180000;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=779,10000,750,2500,False; <-- Fury Absorption
#ENDIF

#EXECUTE=MidCombatGladiator;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=2901,12000,750,2500,False; <-- Body Smash
#ENDIF

#EXECUTE=MidCombatGladiator;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=2876,10000,750,3000,False; <-- Ferocious Strike
#ENDIF

#EXECUTE=MidCombatGladiator;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=718,18000,750,2500,False; <-- Cleave
#ENDIF

#EXECUTE=MidCombatGladiator;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=668,30000,750,2000,False; <-- Weakening Blow
#ENDIF

#EXECUTE=MidCombatGladiator;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=553,180000,750,1000,False; <-- Aerial Lockdown
#ENDIF

#EXECUTE=MidCombatGladiator;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=537,180000,750,2000,False; <-- Crushing Blow
#ENDIF

#EXECUTE=MidCombatGladiator;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=646,60000,750,False,False; <-- Piercing Rupture
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetLevel,BYTE,>64;
#EXECUTE=StigmaGladiator;
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF

_UNTILMemRead=%AddrFreeMem6,BYTE,=1;

end_CombatGladiator;


start_MidCombatGladiator;

_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,>75;
SmartSkill=598,180000,750,False,False; <-- Berserking
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,>75;
SmartSkill=706,300000,750,False,False; <-- Wall of Steel
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,>75;
SmartSkill=620,180000,750,False,False; <-- Armor of Attrition
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,>75;
SmartSkill=2932,180000,750,False,False; <-- Unwavering Devotion
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<65;
SmartSkill=648,180000,750,False,False; <-- Second Wind
#ENDIF

#IF=%Timer=999999,7000;<-- If target got no damage after 7000 milliseconds cancel combat
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,=100;
SendKey=0x1B;
MemPtrWrite=%AddrESChwnd,%OffsetESChwnd,142,BYTE;
#ENDIF

#EXECUTE=Potion;

end_MidCombatGladiator;




start_CombatTemplar;

MemWrite=%AddrFreeMem6,0,BYTE;

GoTowardsTarget=<5,5000;

_IFBuffAlive=9959;
#ELSE
#EXECUTE=CombatScroll;
#ENDIF

SmartSkill=2932,180000,750,False,False; <-- Unwavering Devotion

SmartSkill=3127,180000,750,False,False; <-- Iron Skin

SmartSkill=2933,90000,750,False,False; <-- Empyrean Fury

CreateTimer=999999;

#DO=180000;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3125,60000,1250,1000,False; <-- Sword Storm
#ENDIF

#EXECUTE=MidCombatTemplar;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3123,30000,750,False,False; <-- Aether Leash
#ENDIF

#EXECUTE=MidCombatTemplar;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=2876,10000,750,2500,False; <-- Ferocious Strike
#ENDIF

#EXECUTE=MidCombatTemplar;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=2901,12000,750,2500,False; <-- Body Smash
#ENDIF

#EXECUTE=MidCombatTemplar;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4605,12000,750,2500,False; <-- Dazing Severe Blow
#ENDIF

#EXECUTE=MidCombatTemplar;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3033,90000,750,False,False; <-- Holy Punishment
#ENDIF

#EXECUTE=MidCombatTemplar;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=2967,90000,750,False,False; <-- Illusion Chains
#ENDIF

#EXECUTE=MidCombatTemplar;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetLevel,BYTE,>64;
#EXECUTE=StigmaTemplar;
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF

_UNTILMemRead=%AddrFreeMem6,BYTE,=1;

end_CombatTemplar;


start_MidCombatTemplar;

_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,>75;
SmartSkill=2932,180000,750,False,False; <-- Unwavering Devotion
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,>75;
SmartSkill=3127,180000,750,False,False; <-- Iron Skin
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,>75;
SmartSkill=2933,90000,750,False,False; <-- Empyrean Fury
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<65;
SmartSkill=3129,300000,750,False,False; <-- Empyrean Armor
#ENDIF


#IF=%Timer=999999,7000;<-- If target got no damage after 7000 milliseconds cancel combat
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,=100;
SendKey=0x1B;
MemPtrWrite=%AddrESChwnd,%OffsetESChwnd,142,BYTE;
#ENDIF

#EXECUTE=Potion;

end_MidCombatTemplar;







start_CombatRanger;

MemWrite=%AddrFreeMem6,0,BYTE;

GoTowardsTarget=<20,5000;

MemWrite=%AddrFreeMem0,%Var2,BYTE;

_IFMemRead=%AddrFreeMem0,BYTE,=2;
_IFBuffAlive=9959;
#ELSE
#EXECUTE=CombatScroll;
#ENDIF

_IFMemRead=%AddrFreeMem0,BYTE,=4;
_IFBuffAlive=9959;
#ELSE
#EXECUTE=CombatScroll;
#ENDIF

SmartSkill=889,60000,400,False,False; <- Bestial Fury

SmartSkill=796,60000,400,False,False; <- Strong Shots

SmartSkill=3235,30000,400,False,False; <- Devotion

SmartSkill=3195,30000,400,False,False; <- Focused Evasion

CreateTimer=999999;

#DO=180000;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=795,12000,750,1500,False; <- Stunning Shot
#ENDIF

#EXECUTE=MidCombatRanger;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1005,8000,500,2500,False; <- Swift Shot
#ENDIF

#EXECUTE=MidCombatRanger;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=961,16000,750,False,False; <- Entangling shot
#ENDIF

#EXECUTE=MidCombatRanger;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=848,60000,750,False,False; <- Dizzying Arrow
#ENDIF

#EXECUTE=MidCombatRanger;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=829,60000,750,False,False; <- Holy Arrow
#ENDIF

#EXECUTE=MidCombatRanger;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1074,18000,750,False,False; <- Silence Arrow
#ENDIF

#EXECUTE=MidCombatRanger;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1140,30000,750,False,False; <- Arrow Storm
#ENDIF

#EXECUTE=MidCombatRanger;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=839,60000,750,2000,False; <- Spread Shot
#ENDIF

#EXECUTE=MidCombatRanger;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1026,30000,750,False,False; <- Shackle Arrow
#ENDIF

#EXECUTE=MidCombatRanger;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1119,180000,750,False,False; <- Unerring Shot
#ENDIF

#EXECUTE=MidCombatRanger;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1021,2000,750,False,False; <- Deadshot
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetLevel,BYTE,>64;
#EXECUTE=StigmaRanger;
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF

_UNTILMemRead=%AddrFreeMem6,BYTE,=1;

end_CombatRanger;


start_MidCombatRanger;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=889,60000,400,False,False; <- Bestial Fury

SmartSkill=796,60000,400,False,False; <- Strong Shots

SmartSkill=3235,30000,400,False,False; <- Devotion

SmartSkill=3195,30000,400,False,False; <- Focused Evasion
#ENDIF


#IF=%Timer=999999,7000;<-- If target got no damage after 7000 milliseconds cancel combat
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,=100;
SendKey=0x1B;
MemPtrWrite=%AddrESChwnd,%OffsetESChwnd,142,BYTE;
#ENDIF

#EXECUTE=Potion;

end_MidCombatRanger;







start_CombatAssassin;

MemWrite=%AddrFreeMem6,0,BYTE;

GoTowardsTarget=<3,5000;

MemWrite=%AddrFreeMem0,%Var2,BYTE;

_IFMemRead=%AddrFreeMem0,BYTE,=2;
_IFBuffAlive=9959;
#ELSE
#EXECUTE=CombatScroll;
#ENDIF

_IFMemRead=%AddrFreeMem0,BYTE,=4;
_IFBuffAlive=9959;
#ELSE
#EXECUTE=CombatScroll;
#ENDIF

SmartSkill=3370,180000,500,False,False; <- Slayer Form I

SmartSkill=3481,300000,500,False,False; <- Apply Deadly Poison

SmartSkill=3355,120000,500,False,False; <- Flurry

SmartSkill=3468,30000,500,False,False; <- Killer's Eye

SmartSkill=3235,30000,500,False,False; <- Devotion

SmartSkill=3469,300000,500,False,False; <- Deadly Focus

SmartSkill=3195,30000,500,False,False; <- Focused Evasion

CreateTimer=999999;

#DO=180000;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3415,90000,1000,False,False; <- Massacre
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3363,40000,750,False,False; <- Ambush
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3517,60000,750,False,False; <- Weakening Blow
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3207,16000,750,2500,False; <- Surprise Attack
#ENDIF

#EXECUTE=MidCombatAssassin;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3194,7000,750,2500,False; <- Swift Edge
#ENDIF

#EXECUTE=MidCombatAssassin;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3426,6000,750,2500,False; <- Fang Strike
#ENDIF

#EXECUTE=MidCombatAssassin;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3394,7000,750,750,False; <- Rune Carve
#ENDIF

#EXECUTE=MidCombatAssassin;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3383,18000,750,750,False; <- Pain Rune
#ENDIF

#EXECUTE=MidCombatAssassin;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3476,30000,750,2500,False; <- Assassination
#ENDIF

#EXECUTE=MidCombatAssassin;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3368,60000,750,False,False; <- Ripclaw Strike
#ENDIF

#EXECUTE=MidCombatAssassin;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<65;
SmartSkill=3353,60000,750,False,False; <- Blood Rune
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetLevel,BYTE,>64;
#EXECUTE=StigmaAssassin;
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF

_UNTILMemRead=%AddrFreeMem6,BYTE,=1;

end_CombatAssassin;


start_MidCombatAssassin;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3370,180000,500,False,False; <- Slayer Form I

SmartSkill=3481,300000,500,False,False; <- Apply Deadly Poison

SmartSkill=3355,120000,500,False,False; <- Flurry

SmartSkill=3468,30000,500,False,False; <- Killer's Eye

SmartSkill=3235,30000,500,False,False; <- Devotion

SmartSkill=3469,300000,500,False,False; <- Deadly Focus

SmartSkill=3195,30000,500,False,False; <- Focused Evasion

SmartSkill=3328,60000,500,False,False; <- Aethertwisting
#ENDIF


#IF=%Timer=999999,7000;<-- If target got no damage after 7000 milliseconds cancel combat
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,=100;
SendKey=0x1B;
MemPtrWrite=%AddrESChwnd,%OffsetESChwnd,142,BYTE;
#ENDIF

#EXECUTE=Potion;

end_MidCombatAssassin;





start_CombatCleric;

MemWrite=%AddrFreeMem6,0,BYTE;

GoTowardsTarget=<25,5000;

MemWrite=%AddrFreeMem0,%Var2,BYTE;

_IFMemRead=%AddrFreeMem0,BYTE,=3;
_IFBuffAlive=9965;
#ELSE
#EXECUTE=CombatScroll;
#ENDIF

_IFMemRead=%AddrFreeMem0,BYTE,=5;
_IFBuffAlive=9965;
#ELSE
#EXECUTE=CombatScroll;
#ENDIF

SmartSkill=3895,180000,500,False,False; <- Amplification

SmartSkill=3894,60000,500,False,False; <- Prayer of Focus

SmartSkill=3888,180000,500,False,False; <- Sage's Wisdom

SmartSkill=3921,180000,2750,False,False; <- Immortal Shroud

CreateTimer=999999;

#DO=180000;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4053,16000,2750,2500,False; <- Punishing Earth
#ENDIF

#EXECUTE=MidCombatCleric;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4126,30000,550,False,False; <- Summon Holy Servant
#ENDIF

#EXECUTE=MidCombatCleric;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4094,12000,1750,1500,False; <- Earth's Wrath
#ENDIF

#EXECUTE=MidCombatCleric;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4133,16000,550,False,False; <- Chastise
#ENDIF

#EXECUTE=MidCombatCleric;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4072,16000,550,2000,False; <- Slashing Wind
#ENDIF

#EXECUTE=MidCombatCleric;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1626,8000,550,1500,False; <- Hallowed Strike
#ENDIF

#EXECUTE=MidCombatCleric;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1825,24000,550,False,False; <- Infernal Blaze
#ENDIF

#EXECUTE=MidCombatCleric;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4024,2000,1250,2500,False; <- Smite
#ENDIF

#EXECUTE=MidCombatCleric;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4151,60000,550,False,False; <- Land's Bargain
#ENDIF

#EXECUTE=MidCombatCleric;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetLevel,BYTE,>64;
#EXECUTE=StigmaCleric;
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF

_UNTILMemRead=%AddrFreeMem6,BYTE,=1;

end_CombatCleric;


start_MidCombatCleric;


SmartSkill=1684,3600000,500,False,False; <- Blessing of Guardianship

_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,>50;
SmartSkill=3895,180000,500,False,False; <- Amplification

SmartSkill=3894,60000,500,False,False; <- Prayer of Focus

SmartSkill=3888,180000,500,False,False; <- Sage's Wisdom
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<95;
SmartSkill=3950,30000,550,False,False; <- Light of Rejuvenation
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<80;
SmartSkill=3959,30000,550,False,False; <- Flash of Recovery
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<60;
SmartSkill=4194,120000,550,False,False; <- Life Curtain
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<80;
SmartSkill=4212,6000,3250,False,False; <- Healing Grace
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<80;
SmartSkill=1850,50,2250,False,False; <- Healing Light
#ENDIF

_MemPtrReadVar=%PlayerBase,%OffsetMaxMP,WORD,11; <-- saves max MP in %Var11
_MemPtrReadVar=%PlayerBase,%OffsetMP,WORD,12; <-- saves current MP in %Var12
_Calc11=%Var12/%Var11; <-- divides %Var12 trough %Var11 and saves the result in %Var11
_Calc11=%Var11*100; <-- multiplies %Var11 with 100 and saves the result in %Var11
MemWrite=%AddrFreeMem12,%Var11,FLOAT; <-- writes current mana percent value in %AddrFreeMem12

_IFMemRead=%AddrFreeMem12,FLOAT,<20;
SmartSkill=3877,180000,500,False,False; <- Penance
#ENDIF

_IFMemRead=%AddrFreeMem12,FLOAT,<20;
SmartSkill=4194,120000,550,False,False; <- Life Curtain
#ENDIF


#IF=%Timer=999999,7000;<-- If target got no damage after 7000 milliseconds cancel combat
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,=100;
SendKey=0x1B;
MemPtrWrite=%AddrESChwnd,%OffsetESChwnd,142,BYTE;
#ENDIF

#EXECUTE=Potion;

end_MidCombatCleric;



start_CombatChanter; <-- Created by FallenEdge

MemWrite=%AddrFreeMem6,0,BYTE;

GoTowardsTarget=<5,5000;

_IFBuffAlive=9959;
#ELSE
#EXECUTE=CombatScroll;
#ENDIF

_IFSkillActive=4645;
#ELSE
UseID=4645; Hit Mantra
Delay=350;
#ENDIF
_IFSkillActive=4645;
#ELSE
UseID=4645; Hit Mantra
Delay=350;
#ENDIF

_IFSkillActive=1753;
#ELSE
UseID=1753; Revival Mantra
Delay=350;
#ENDIF
_IFSkillActive=1753;
#ELSE
UseID=1753; Revival Mantra
Delay=350;
#ENDIF

_IFSkillActive=4642;
#ELSE
UseID=4642; Invincibility Mantra
Delay=350;
#ENDIF
_IFSkillActive=4642;
#ELSE
UseID=4642; Invincibility Mantra
Delay=350;
#ENDIF

_IFBuffAlive=1556;
#ELSE
SmartSkill=1556,1000,50,False,False;   <-- Ascension Spell
#ENDIF

_IFBuffAlive=1689;
#ELSE
SmartSkill=1689,1000,50,False,False;   <-- Protectorates Prayer
#ENDIF



CreateTimer=999999;

#DO=180000;


_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<25;
_IFMemPtrRead=%PlayerBase,%OffsetLevel,BYTE,<26;
SmartSkill=4013,2000,1500,False,False;                  <-- Smite
#ENDIF


#EXECUTE=MidCombatChanter;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1600,12000,50,False,False;       <-- Inescapable Judgment
#ENDIF

#EXECUTE=MidCombatChanter;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1626,8000,50,1500,False;        <-- Hallowed Strike
#ENDIF

#EXECUTE=MidCombatChanter;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1825,2000,1500,1200,False;       <-- Infernal Blaze
#ENDIF

#EXECUTE=MidCombatChanter;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1789,8000,50,1200,False;         <-- Meteor Strike
#ENDIF

#EXECUTE=MidCombatChanter;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetLevel,BYTE,>64;
#EXECUTE=StigmaChanter;
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF

_UNTILMemRead=%AddrFreeMem6,BYTE,=1;

end_CombatChanter;


start_MidCombatChanter;

_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<25;
SmartSkill=1813,300000,50,False,False;                  <-- Block Curtain
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<25;
SmartSkill=1698,120000,50,False,False;                  <-- Protective Ward
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<60;
SmartSkill=1745,5000,50,False,False;                    <-- Word Revival
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<30;
SmartSkill=1606,60000,100,False,False;                  <-- Stamina Restoration
#ENDIF

_MemPtrReadVar=%PlayerBase,%OffsetMaxMP,WORD,11; <-- saves max MP in %Var11
_MemPtrReadVar=%PlayerBase,%OffsetMP,WORD,12; <-- saves current MP in %Var12
_Calc11=%Var12/%Var11; <-- divides %Var12 trough %Var11 and saves the result in %Var11
_Calc11=%Var11*100; <-- multiplies %Var11 with 100 and saves the result in %Var11
MemWrite=%AddrFreeMem12,%Var11,FLOAT; <-- writes current mana percent value in %AddrFreeMem12

_IFMemRead=%AddrFreeMem12,FLOAT,<20;
SmartSkill=1606,60000,100,False,False;                  <-- Stamina Restoration
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<60;
SmartSkill=1860,10000,1100,False,False;                  <-- Recovery Spell
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<50;
SmartSkill=1850,2000,0,False,False;                      <-- Healing Light
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<30;
SmartSkill=1637,180000,50,False,False;                   <-- Unstoppable
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<80;
SmartSkill=1759,30000,100,False,False;                   <-- Perfect Parry
#ENDIF

#IF=%Timer=999999,7000;<-- If target got no damage after 7000 milliseconds cancel combat
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,=100;
SendKey=0x1B;
MemPtrWrite=%AddrESChwnd,%OffsetESChwnd,142,BYTE;
#ENDIF

#EXECUTE=Potion;

end_MidCombatChanter;



start_CombatSpiritmaster;

MemWrite=%AddrFreeMem6,0,BYTE;

GoTowardsTarget=<25,5000;

MemWrite=%AddrFreeMem0,%Var2,BYTE;

_IFMemRead=%AddrFreeMem0,BYTE,=3;
_IFBuffAlive=9965;
#ELSE
#EXECUTE=CombatScroll;
#ENDIF

_IFMemRead=%AddrFreeMem0,BYTE,=5;
_IFBuffAlive=9965;
#ELSE
#EXECUTE=CombatScroll;
#ENDIF

_MemPtrReadVar=%TargetBase,%OffsetName,WCHAR[32],9;

_IFFrameVisible=209; spirit window
#ELSE
SmartSkill=3779,60000,1150,False,False; <- Summoning Alacrity
SmartSkill=3704,5000,4750,False,False; <- Wind Spirit
#ENDIF

Command=/select %Var9;
Delay=100;

SmartSkill=1166,120000,500,False,False; <- Stone Skin

SmartSkill=3573,120000,500,False,False; <- Sympathetic Mind

SmartSkill=3602,180000,500,False,False; <- Elemental Spirit Armor

CreateTimer=999999;

#DO=180000;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3852,120000,1050,False,False; <- Command: Wind Wrath
#ENDIF

#EXECUTE=MidCombatSpiritmaster;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3588,12000,2250,1500,False; <- Weaken Spirit
#ENDIF

#EXECUTE=MidCombatSpiritmaster;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3613,15000,500,1500,False; <- Chain of Earth
#ENDIF

#EXECUTE=MidCombatSpiritmaster;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1459,3000,500,False,False; <- Erosion
#ENDIF

#EXECUTE=MidCombatSpiritmaster;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3837,14000,500,1500,False; <- Command: Wind Disturbance
#ENDIF

#EXECUTE=MidCombatSpiritmaster;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1363,10000,2250,1500,False; <- Ice Chain
#ENDIF

#EXECUTE=MidCombatSpiritmaster;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3831,10000,1750,False,False; <- Summon Wind Servant
#ENDIF

#EXECUTE=MidCombatSpiritmaster;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3601,1000,2000,False,False; <- Vacuum Choke
#ENDIF

#EXECUTE=MidCombatSpiritmaster;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3776,60000,750,3500,False; <- Soul Torrent
#ENDIF

#EXECUTE=MidCombatSpiritmaster;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3853,30000,750,False,False; <- Command: Wind Pique
#ENDIF

#EXECUTE=MidCombatSpiritmaster;

_IFMemPtrRead=%TargetBase,%OffsetPercentHP,DWORD,<40;
SmartSkill=3643,120000,2000,False,False; <- Wind Erosion
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetLevel,BYTE,>64;
#EXECUTE=StigmaSpiritmaster;
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF

_UNTILMemRead=%AddrFreeMem6,BYTE,=1;

end_CombatSpiritmaster;


start_MidCombatSpiritmaster;

_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<40;
SmartSkill=3833,180000,750,False,False; <- Command: Bodyguard
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<80;
SmartSkill=3839,180000,750,False,False; <- Spirit Preserve
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<65;
SmartSkill=4665,24000,2250,False,False; <- Backdraft
#ENDIF

SmartSkill=1166,120000,500,False,False; <- Stone Skin

SmartSkill=3573,120000,500,False,False; <- Sympathetic Mind

SmartSkill=3602,180000,500,False,False; <- Elemental Spirit Armor

_MemPtrReadVar=%PlayerBase,%OffsetMaxMP,WORD,11; <-- saves max MP in %Var11
_MemPtrReadVar=%PlayerBase,%OffsetMP,WORD,12; <-- saves current MP in %Var12
_Calc11=%Var12/%Var11; <-- divides %Var12 trough %Var11 and saves the result in %Var11
_Calc11=%Var11*100; <-- multiplies %Var11 with 100 and saves the result in %Var11
MemWrite=%AddrFreeMem12,%Var11,FLOAT; <-- writes current mana percent value in %AddrFreeMem12

_IFMemRead=%AddrFreeMem12,FLOAT,<20;
SmartSkill=3738,120000,2250,False,False; <- Spirit Absorption
#ENDIF


#IF=%Timer=999999,7000;<-- If target got no damage after 7000 milliseconds cancel combat
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,=100;
SendKey=0x1B;
MemPtrWrite=%AddrESChwnd,%OffsetESChwnd,142,BYTE;
#ENDIF

#EXECUTE=Potion;

end_MidCombatSpiritmaster;




start_CombatGunslinger;

MemWrite=%AddrFreeMem6,0,BYTE;

GoTowardsTarget=<20,5000;

MemWrite=%AddrFreeMem0,%Var2,BYTE;

_IFMemRead=%AddrFreeMem0,BYTE,=2;
_IFBuffAlive=9959;
#ELSE
#EXECUTE=CombatScroll;
#ENDIF

_IFMemRead=%AddrFreeMem0,BYTE,=4;
_IFBuffAlive=9959;
#ELSE
#EXECUTE=CombatScroll;
#ENDIF

SmartSkill=2045,300000,500,False,False; <- Aion's Favor

SmartSkill=2124,180000,500,False,False; <- Anticipation

SmartSkill=2046,60000,500,False,False; <- Stopping Power

SmartSkill=2273,60000,500,False,False; <- Sighting

SmartSkill=2052,30000,500,False,False; <- Pressurized Chamber

SmartSkill=1923,30000,500,False,False; <- Bulletproof

CreateTimer=999999;

#DO=180000;

#IF=%Timer=1953,24000;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2800; <-- base atkspeed equals cannon
SendAction=3,4; <-- switch weapon
#ENDIF
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2250;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1953,24000,750,False,False; <- Hot Shot
#ENDIF

#EXECUTE=MidCombatGunslinger;

#IF=%Timer=2179,24000;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2800; <-- base atkspeed equals cannon
SendAction=3,4; <-- switch weapon
#ENDIF
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2250;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_MemPtrReadVar=%PlayerBase,%OffsetMaxMP,WORD,11; <-- saves max MP in %Var11
_MemPtrReadVar=%PlayerBase,%OffsetMP,WORD,12; <-- saves current MP in %Var12
_Calc11=%Var12/%Var11; <-- divides %Var12 trough %Var11 and saves the result in %Var11
_Calc11=%Var11*100; <-- multiplies %Var11 with 100 and saves the result in %Var11
MemWrite=%AddrFreeMem12,%Var11,FLOAT; <-- writes current mana percent value in %AddrFreeMem12
_IFMemRead=%AddrFreeMem12,FLOAT,<20;
SmartSkill=2179,24000,500,3000,False; <- Crosstrigger
CreateTimer=1969;
CreateTimer=1968;
CreateTimer=1967;
CreateTimer=1966;
CreateTimer=1965;
CreateTimer=1964;
CreateTimer=1963;
CreateTimer=1962;
CreateTimer=1961;
CreateTimer=1960;
CreateTimer=1959;
CreateTimer=1958;
CreateTimer=1957;
CreateTimer=2179;
CreateTimer=2178;
CreateTimer=2177;
CreateTimer=2176;
CreateTimer=2175;
CreateTimer=2174;
CreateTimer=2173;
CreateTimer=2172;
CreateTimer=2171;
CreateTimer=2065;
CreateTimer=2064;
CreateTimer=2063;
CreateTimer=2062;
CreateTimer=2061;
CreateTimer=2060;
CreateTimer=2059;
CreateTimer=2058;
CreateTimer=2057;
CreateTimer=2056;
CreateTimer=2055;
#ENDIF

#EXECUTE=MidCombatGunslinger;

#IF=%Timer=2053,30000;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2800; <-- base atkspeed equals cannon
SendAction=3,4; <-- switch weapon
#ENDIF
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2250;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
#IF=%Timer=1969,1500;
#IF=%Timer=2179,1500;
#IF=%Timer=2065,1500;
#IF=%Timer=2053,30000;
#3DO=750;
UseID=2053; <-- Reload
_3UNTILMemRead=%AddrLastID,DWORD,=2053;
_IFMemPtrRead=%PlayerBase,%OffsetCurrentID,DWORD,=2053;
CreateTimer=2053;
DeleteTimer=1969;
DeleteTimer=1968;
DeleteTimer=1967;
DeleteTimer=1966;
DeleteTimer=1965;
DeleteTimer=1964;
DeleteTimer=1963;
DeleteTimer=1962;
DeleteTimer=1961;
DeleteTimer=1960;
DeleteTimer=1959;
DeleteTimer=1958;
DeleteTimer=1957;
DeleteTimer=2179;
DeleteTimer=2178;
DeleteTimer=2177;
DeleteTimer=2176;
DeleteTimer=2175;
DeleteTimer=2174;
DeleteTimer=2173;
DeleteTimer=2172;
DeleteTimer=2171;
DeleteTimer=2065;
DeleteTimer=2064;
DeleteTimer=2063;
DeleteTimer=2062;
DeleteTimer=2061;
DeleteTimer=2060;
DeleteTimer=2059;
DeleteTimer=2058;
DeleteTimer=2057;
DeleteTimer=2056;
DeleteTimer=2055;
#ENDIF

#EXECUTE=MidCombatGunslinger;

#IF=%Timer=2054,60000;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2800; <-- base atkspeed equals cannon
SendAction=3,4; <-- switch weapon
#ENDIF
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2250;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
#IF=%Timer=1969,1500;
#IF=%Timer=2179,1500;
#IF=%Timer=2065,1500;
#IF=%Timer=2054,60000;
#3DO=750;
UseID=2054; <-- Autoload
_3UNTILMemRead=%AddrLastID,DWORD,=2054;
_IFMemPtrRead=%PlayerBase,%OffsetCurrentID,DWORD,=2054;
CreateTimer=2054;
DeleteTimer=1969;
DeleteTimer=1968;
DeleteTimer=1967;
DeleteTimer=1966;
DeleteTimer=1965;
DeleteTimer=1964;
DeleteTimer=1963;
DeleteTimer=1962;
DeleteTimer=1961;
DeleteTimer=1960;
DeleteTimer=1959;
DeleteTimer=1958;
DeleteTimer=1957;
DeleteTimer=2179;
DeleteTimer=2178;
DeleteTimer=2177;
DeleteTimer=2176;
DeleteTimer=2175;
DeleteTimer=2174;
DeleteTimer=2173;
DeleteTimer=2172;
DeleteTimer=2171;
DeleteTimer=2065;
DeleteTimer=2064;
DeleteTimer=2063;
DeleteTimer=2062;
DeleteTimer=2061;
DeleteTimer=2060;
DeleteTimer=2059;
DeleteTimer=2058;
DeleteTimer=2057;
DeleteTimer=2056;
DeleteTimer=2055;
#ENDIF

#EXECUTE=MidCombatGunslinger;

#IF=%Timer=1969,16000;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2800; <-- base atkspeed equals cannon
SendAction=3,4; <-- switch weapon
#ENDIF
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2250;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1969,16000,500,3000,False; <- Gunshot
CreateTimer=1969;
CreateTimer=1968;
CreateTimer=1967;
CreateTimer=1966;
CreateTimer=1965;
CreateTimer=1964;
CreateTimer=1963;
CreateTimer=1962;
CreateTimer=1961;
CreateTimer=1960;
CreateTimer=1959;
CreateTimer=1958;
CreateTimer=1957;
CreateTimer=2179;
CreateTimer=2178;
CreateTimer=2177;
CreateTimer=2176;
CreateTimer=2175;
CreateTimer=2174;
CreateTimer=2173;
CreateTimer=2172;
CreateTimer=2171;
CreateTimer=2065;
CreateTimer=2064;
CreateTimer=2063;
CreateTimer=2062;
CreateTimer=2061;
CreateTimer=2060;
CreateTimer=2059;
CreateTimer=2058;
CreateTimer=2057;
CreateTimer=2056;
CreateTimer=2055;
#ENDIF

#EXECUTE=MidCombatGunslinger;

#IF=%Timer=2226,2000;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2800; <-- base atkspeed equals cannon
SendAction=3,4; <-- switch weapon
#ENDIF
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2250;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=2226,2000,1250,False,False; <- Direct Shot
#ENDIF

#EXECUTE=MidCombatGunslinger;

#IF=%Timer=2349,90000;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2800; <-- base atkspeed equals cannon
SendAction=3,4; <-- switch weapon
#ENDIF
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2250;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<65;
SmartSkill=2349,90000,550,2500,False; <- Anti-Enemy Fire
#ENDIF

#EXECUTE=MidCombatGunslinger;

#IF=%Timer=2263,18000;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2800; <-- base atkspeed equals cannon
SendAction=3,4; <-- switch weapon
#ENDIF
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2250;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=2263,18000,750,False,False; <- Quieting Gale
#ENDIF

#EXECUTE=MidCombatGunslinger;

#IF=%Timer=2003,60000;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2800; <-- base atkspeed equals cannon
SendAction=3,4; <-- switch weapon
#ENDIF
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2250;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=2003,60000,750,False,False; <- Wing Clip
#ENDIF

#EXECUTE=MidCombatGunslinger;

#IF=%Timer=2166,24000;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2800; <-- base atkspeed equals cannon
SendAction=3,4; <-- switch weapon
#ENDIF
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2250;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=2166,24000,750,False,False; <- Green Grenade
#ENDIF

#EXECUTE=MidCombatGunslinger;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetLevel,BYTE,>64;
#EXECUTE=StigmaGunslinger;
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF

_UNTILMemRead=%AddrFreeMem6,BYTE,=1;

end_CombatGunslinger;


start_MidCombatGunslinger;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=2045,300000,500,False,False; <- Aion's Favor
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=2124,180000,500,False,False; <- Anticipation
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1923,30000,500,False,False; <- Bulletproof
#ENDIF


#IF=%Timer=999999,7000;<-- If target got no damage after 7000 milliseconds cancel combat
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,=100;
SendKey=0x1B;
MemPtrWrite=%AddrESChwnd,%OffsetESChwnd,142,BYTE;
#ENDIF

#EXECUTE=Potion;

end_MidCombatGunslinger;







start_CombatSongweaver;

MemWrite=%AddrFreeMem6,0,BYTE;

GoTowardsTarget=<25,5000;

MemWrite=%AddrFreeMem0,%Var2,BYTE;

_IFMemRead=%AddrFreeMem0,BYTE,=2;
_IFBuffAlive=9959;
#ELSE
#EXECUTE=CombatScroll;
#ENDIF

_IFMemRead=%AddrFreeMem0,BYTE,=4;
_IFBuffAlive=9959;
#ELSE
#EXECUTE=CombatScroll;
#ENDIF

_IFMemRead=%AddrFreeMem0,BYTE,=3;
_IFBuffAlive=9965;
#ELSE
#EXECUTE=CombatScroll;
#ENDIF

_IFMemRead=%AddrFreeMem0,BYTE,=5;
_IFBuffAlive=9965;
#ELSE
#EXECUTE=CombatScroll;
#ENDIF

SmartSkill=4442,120000,500,False,False; <- Protective Ode

SmartSkill=4449,3600000,500,False,False; <- Etude

CreateTimer=999999;

#DO=180000;

_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,=100;
SmartSkill=4296,16000,750,1250,False; <- Syncopated Echo
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,=100;
SmartSkill=4471,120000,500,1500,3000; <- Fiery Requiem
#ENDIF

#EXECUTE=MidCombatSongweaver;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4233,12000,1250,2500,False; <- Song of Ice
#ENDIF

#EXECUTE=MidCombatSongweaver;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4272,16000,750,2500,False; <- Bright Strike
#ENDIF

#EXECUTE=MidCombatSongweaver;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4424,30000,500,False,False; <- Quaver
#ENDIF

#EXECUTE=MidCombatSongweaver;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4405,30000,500,False,False; <- Adagio
#ENDIF

#EXECUTE=MidCombatSongweaver;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4523,16000,1250,False,False; <- Sonic Gust
#ENDIF

#EXECUTE=MidCombatSongweaver;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4420,2000,1250,False,False; <- Pulse
#ENDIF

#EXECUTE=MidCombatSongweaver;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetLevel,BYTE,>64;
#EXECUTE=StigmaSongweaver;
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF

_UNTILMemRead=%AddrFreeMem6,BYTE,=1;

end_CombatSongweaver;


start_MidCombatSongweaver;

_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<50;
SmartSkill=4351,6000,1250,3000,False; <- Soothing Melody
#ENDIF

_MemPtrReadVar=%PlayerBase,%OffsetMaxMP,WORD,11; <-- saves max MP in %Var11
_MemPtrReadVar=%PlayerBase,%OffsetMP,WORD,12; <-- saves current MP in %Var12
_Calc11=%Var12/%Var11; <-- divides %Var12 trough %Var11 and saves the result in %Var11
_Calc11=%Var11*100; <-- multiplies %Var11 with 100 and saves the result in %Var11
MemWrite=%AddrFreeMem12,%Var11,FLOAT; <-- writes current mana percent value in %AddrFreeMem12

_IFMemRead=%AddrFreeMem12,FLOAT,<20;
SmartSkill=4383,30000,500,False,False; <- Resonating Melody
#ENDIF

_IFMemRead=%AddrFreeMem12,FLOAT,<20;
SmartSkill=4571,6000,500,False,False; <- Resonating Counterpoint
#ENDIF

SmartSkill=4442,120500,500,False,False; <- Protective Ode

SmartSkill=4449,3600000,500,False,False; <- Etude


#IF=%Timer=999999,7000;<-- If target got no damage after 7000 milliseconds cancel combat
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,=100;
SendKey=0x1B;
MemPtrWrite=%AddrESChwnd,%OffsetESChwnd,142,BYTE;
#ENDIF

#EXECUTE=Potion;

end_MidCombatSongweaver;



start_CombatSorcerer; <-- created by Shimizu20

MemWrite=%AddrFreeMem6,0,BYTE;

GoTowardsTarget=<25,5000;

MemWrite=%AddrFreeMem0,%Var2,BYTE;

_IFMemRead=%AddrFreeMem0,BYTE,=3;
_IFBuffAlive=9965;
#ELSE
#EXECUTE=CombatScroll;
#ENDIF

_IFMemRead=%AddrFreeMem0,BYTE,=5;
_IFBuffAlive=9965;
#ELSE
#EXECUTE=CombatScroll;
#ENDIF

SmartSkill=1166,120000,500,False,False; <- Stone Skin/Steinhaut

SmartSkill=4449,3600000,500,False,False; <- Robe of Flame/Robe der Flamme

SmartSkill=1249,180000,500,False,False; <- Magic Assist/Magieexplosion

SmartSkill=1270,30000,500,False,False; <- Vaizel's Wisdom/Vaizels Weisheit

CreateTimer=999999;

#DO=180000;

_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,=100;
SmartSkill=1258,120000,4250,False,False; <- Aetherflame/Feuer der magischen Kraft
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,=100;
SmartSkill=1509,60000,2250,False,False; <- Magma Burst/Gro?r Vulkanausbruch
#ENDIF

#EXECUTE=MidCombatSorcerer;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1183,60000,500,False,False; <- Freeze/Frost
#ENDIF

#EXECUTE=MidCombatSorcerer;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1281,3000,2250,2250,False; <- Flame Harpoon/Flammenharpune
#ENDIF

#EXECUTE=MidCombatSorcerer;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1375,10000,2250,1250,False; <- Ice Chain/Eiskette
#ENDIF

#EXECUTE=MidCombatSorcerer;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1269,90000,500,2250,False; <- Wind Spear/Speer des Windes
#ENDIF

#EXECUTE=MidCombatSorcerer;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1294,500,2250,2250,False; <- Flame Bolt/Flammenpfeil
#ENDIF

#EXECUTE=MidCombatSorcerer;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1430,30000,2250,False,False; <- Delayed Blast/Verz??te Explosion
#ENDIF

#EXECUTE=MidCombatSorcerer;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1519,5000,500,False,False; <- Flame Cage/Flammenk?g
#ENDIF

#EXECUTE=MidCombatSorcerer;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1257,3000,1250,1250,False; <- Refracting Shard/Funkelnde Scherbe
#ENDIF

#EXECUTE=MidCombatSorcerer;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1401,60000,500,False,False; <- Stamina Absorption/Ausdauerabsorption
#ENDIF

#EXECUTE=MidCombatSorcerer;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetLevel,BYTE,>64;
#EXECUTE=StigmaSorcerer;
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF

_UNTILMemRead=%AddrFreeMem6,BYTE,=1;

end_CombatSorcerer;


start_MidCombatSorcerer;

_MemPtrReadVar=%PlayerBase,%OffsetMaxMP,WORD,11; <-- saves max MP in %Var11
_MemPtrReadVar=%PlayerBase,%OffsetMP,WORD,12; <-- saves current MP in %Var12
_Calc11=%Var12/%Var11; <-- divides %Var12 trough %Var11 and saves the result in %Var11
_Calc11=%Var11*100; <-- multiplies %Var11 with 100 and saves the result in %Var11
MemWrite=%AddrFreeMem12,%Var11,FLOAT; <-- writes current mana percent value in %AddrFreeMem12

_IFMemRead=%AddrFreeMem12,FLOAT,<50;
SmartSkill=1203,180000,500,False,False; <- Gain Mana/Managewinn
#ENDIF

SmartSkill=1166,120000,500,False,False; <- Stone Skin/Steinhaut

SmartSkill=4449,3600000,500,False,False; <- Robe of Flame/Robe der Flamme

SmartSkill=1249,180000,500,False,False; <- Magic Assist/Magieexplosion

SmartSkill=1270,30000,500,False,False; <- Vaizel's Wisdom/Vaizels Weisheit


#IF=%Timer=999999,7000;<-- If target got no damage after 7000 milliseconds cancel combat
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,=100;
SendKey=0x1B;
MemPtrWrite=%AddrESChwnd,%OffsetESChwnd,142,BYTE;
#ENDIF

#EXECUTE=Potion;

end_MidCombatSorcerer;



start_CombatWarrior;

MemWrite=%AddrFreeMem6,0,BYTE;

GoTowardsTarget=<5,5000;

_IFBuffAlive=9959;
#ELSE
#EXECUTE=CombatScroll;
#ENDIF


CreateTimer=999999;

#DO=180000;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=2865,10000,750,1000,False; <-- Ferocious Strike
#ENDIF

#EXECUTE=MidCombatWarrior;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=2890,12000,750,False,False; <-- Body Smash
#ENDIF

Command=/attack;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF

_UNTILMemRead=%AddrFreeMem6,BYTE,=1;

end_CombatWarrior;


start_MidCombatWarrior;

#IF=%Timer=999999,7000;<-- If target got no damage after 7000 milliseconds cancel combat
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,=100;
SendKey=0x1B;
MemPtrWrite=%AddrESChwnd,%OffsetESChwnd,142,BYTE;
#ENDIF

#EXECUTE=Potion;

end_MidCombatWarrior;



start_CombatScout;

MemWrite=%AddrFreeMem6,0,BYTE;

GoTowardsTarget=<5,5000;

_IFBuffAlive=9959;
#ELSE
#EXECUTE=CombatScroll;
#ENDIF

SmartSkill=3235,30000,500,False,False; <-- Devotion

SmartSkill=3195,30000,500,False,False; <-- Focused Evasion

CreateTimer=999999;

#DO=180000;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3196,16000,750,False,False; <-- Surprise Attack
#ENDIF

#EXECUTE=MidCombatScout;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3182,7000,750,1000,False; <-- Swift Edge
#ENDIF

Command=/attack;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF

_UNTILMemRead=%AddrFreeMem6,BYTE,=1;

end_CombatScout;


start_MidCombatScout;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3235,30000,500,False,False; <-- Devotion
SmartSkill=3195,30000,500,False,False; <-- Focused Evasion
#ENDIF

#IF=%Timer=999999,7000;<-- If target got no damage after 7000 milliseconds cancel combat
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,=100;
SendKey=0x1B;
MemPtrWrite=%AddrESChwnd,%OffsetESChwnd,142,BYTE;
#ENDIF

#EXECUTE=Potion;

end_MidCombatScout;



start_CombatMage;

MemWrite=%AddrFreeMem6,0,BYTE;

GoTowardsTarget=<25,5000;

_IFMemRead=%AddrFreeMem0,BYTE,=3;
_IFBuffAlive=9965;
#ELSE
#EXECUTE=CombatScroll;
#ENDIF

_IFMemRead=%AddrFreeMem0,BYTE,=5;
_IFBuffAlive=9965;
#ELSE
#EXECUTE=CombatScroll;
#ENDIF

SmartSkill=1155,120000,500,False,False; <-- Stone Skin

CreateTimer=999999;

#DO=180000;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1363,10000,2250,1000,False; <-- Ice Chain
#ENDIF

#EXECUTE=MidCombatMage;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1447,3000,500,False,False; <-- Erosion
#ENDIF

#EXECUTE=MidCombatMage;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1328,60000,500,False,False; <-- Root
#ENDIF

#EXECUTE=MidCombatMage;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1282,2000,2250,1000,False; <-- Flame Bolt
#ENDIF

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF

_UNTILMemRead=%AddrFreeMem6,BYTE,=1;

end_CombatMage;


start_MidCombatMage;

SmartSkill=1155,120000,500,False,False; <-- Stone Skin

#IF=%Timer=999999,7000;<-- If target got no damage after 7000 milliseconds cancel combat
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,=100;
SendKey=0x1B;
MemPtrWrite=%AddrESChwnd,%OffsetESChwnd,142,BYTE;
#ENDIF

#EXECUTE=Potion;

end_MidCombatMage;




start_CombatPriest;

MemWrite=%AddrFreeMem6,0,BYTE;

GoTowardsTarget=<25,5000;

_IFMemRead=%AddrFreeMem0,BYTE,=3;
_IFBuffAlive=9965;
#ELSE
#EXECUTE=CombatScroll;
#ENDIF

_IFMemRead=%AddrFreeMem0,BYTE,=5;
_IFBuffAlive=9965;
#ELSE
#EXECUTE=CombatScroll;
#ENDIF

CreateTimer=999999;

#DO=180000;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4013,2000,1750,False,False; <-- Smite
#ENDIF

#EXECUTE=MidCombatPriest;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1814,24000,750,False,False; <-- Infernal Blaze
#ENDIF

#EXECUTE=MidCombatPriest;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
#IF=%TargetDistance,<5;
SmartSkill=1615,8000,750,False,False; <-- Hallowed Strike
#ENDIF

#EXECUTE=MidCombatPriest;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF

_UNTILMemRead=%AddrFreeMem6,BYTE,=1;

end_CombatPriest;


start_MidCombatPriest;

_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<50;
SmartSkill=1839,50,2250,False,False; <-- Healing Light
#ENDIF

#IF=%Timer=999999,7000;<-- If target got no damage after 7000 milliseconds cancel combat
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,=100;
SendKey=0x1B;
MemPtrWrite=%AddrESChwnd,%OffsetESChwnd,142,BYTE;
#ENDIF

#EXECUTE=Potion;

end_MidCombatPriest;



start_CombatTechnist;

MemWrite=%AddrFreeMem6,0,BYTE;

GoTowardsTarget=<20,5000;

_IFMemRead=%AddrFreeMem0,BYTE,=2;
_IFBuffAlive=9959;
#ELSE
#EXECUTE=CombatScroll;
#ENDIF

_IFMemRead=%AddrFreeMem0,BYTE,=4;
_IFBuffAlive=9959;
#ELSE
#EXECUTE=CombatScroll;
#ENDIF

SmartSkill=2168,60000,750,False,False; <-- Bullet Resistance

CreateTimer=999999;

#DO=180000;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1942,24000,750,False,False; <-- Hot Shot
#ENDIF

#EXECUTE=MidCombatTechnist;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1958,16000,750,1500,False; <-- Gunshot
#ENDIF

#EXECUTE=MidCombatTechnist;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=2220,2000,750,False,False; <-- Direct Shot
#ENDIF

#EXECUTE=MidCombatTechnist;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF

_UNTILMemRead=%AddrFreeMem6,BYTE,=1;

end_CombatTechnist;


start_MidCombatTechnist;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=2168,60000,750,False,False; <-- Bullet Resistance
#ENDIF

#IF=%Timer=999999,7000;<-- If target got no damage after 7000 milliseconds cancel combat
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,=100;
SendKey=0x1B;
MemPtrWrite=%AddrESChwnd,%OffsetESChwnd,142,BYTE;
#ENDIF

#EXECUTE=Potion;

end_MidCombatTechnist;



start_CombatMuse;

MemWrite=%AddrFreeMem6,0,BYTE;

GoTowardsTarget=<20,5000;

_IFMemRead=%AddrFreeMem0,BYTE,=3;
_IFBuffAlive=9965;
#ELSE
#EXECUTE=CombatScroll;
#ENDIF

_IFMemRead=%AddrFreeMem0,BYTE,=5;
_IFBuffAlive=9965;
#ELSE
#EXECUTE=CombatScroll;
#ENDIF

CreateTimer=999999;

#DO=180000;

_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,=100;
SmartSkill=4300,60000,500,False,3000; <-- Fiery Descant
#ENDIF

#EXECUTE=MidCombatMuse;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4409,2000,1250,False,False; <-- Pulse
#ENDIF

#EXECUTE=MidCombatMuse;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4222,12000,1250,False,False; <-- Song of Ice
#ENDIF

#EXECUTE=MidCombatMuse;

_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF
_IFMemPtrRead=%PlayerBase,%OffsetHP,DWORD,=0;
MemWrite=%AddrFreeMem6,1,BYTE;
#ENDIF

_UNTILMemRead=%AddrFreeMem6,BYTE,=1;

end_CombatMuse;


start_MidCombatMuse;

_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<50;
SmartSkill=4339,6000,1250,False,False; <-- Soothing Melody
#ENDIF

#IF=%Timer=999999,7000;<-- If target got no damage after 7000 milliseconds cancel combat
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,=100;
SendKey=0x1B;
MemPtrWrite=%AddrESChwnd,%OffsetESChwnd,142,BYTE;
#ENDIF

#EXECUTE=Potion;

end_MidCombatMuse;




start_StigmaGladiator;

_IFStigmaAvailable=140001103;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=696,30000,750,False,False; <-- Sure Strike // Melee // DPS // Both
#ENDIF

_IFStigmaAvailable=140001104;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=589,16000,750,False,False; <-- Spite Strike // Melee // DPS // Both
#ENDIF

#EXECUTE=MidCombatGladiator;

_IFStigmaAvailable=140001105;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=681,16000,750,1500,False; <-- Sharp Strike // Melee // DPS // Both
#ENDIF

_IFStigmaAvailable=140001106;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=617,120000,750,False,False; <-- Tendon Slice // Melee // DPS // Both
#ENDIF

#EXECUTE=MidCombatGladiator;

_IFStigmaAvailable=140001107;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=544,120000,750,2000,False; <-- Exhausting Wave // Melee // DPS // Both
#ENDIF

_IFStigmaAvailable=140001108;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=738,90000,750,False,False; <-- Severe Precision Cut // Melee // DPS // Both
#ENDIF

#EXECUTE=MidCombatGladiator;

_IFStigmaAvailable=140001109;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=582,18000,750,False,False; <-- Crippling Cut // Melee // DPS // Both
#ENDIF

_IFStigmaAvailable=140001110;
#EXECUTE=IsStumble;
_IFMemRead=%AddrFreeMem30,BYTE,=1;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=768,30000,750,False,False; <-- Draining Blow // Melee // DPS-Heal // Both
#ENDIF

#EXECUTE=MidCombatGladiator;

_IFStigmaAvailable=140001111;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=705,120000,750,False,False; <-- Earthquake Wave // Melee // DPS // Both
#ENDIF

_IFStigmaAvailable=140001115;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=507,12000,750,False,False; <-- Lockdown // Melee // DPS // Both
#ENDIF

#EXECUTE=MidCombatGladiator;

_IFStigmaAvailable=140001116;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<50;
SmartSkill=570,60000,750,False,False; <-- Dauntless Spirit // - // Heal // Both
#ENDIF

_IFStigmaAvailable=140001117;
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,>85;
SmartSkill=690,300000,550,False,False; <-- Howl // - // - // Both
#ENDIF

#EXECUTE=MidCombatGladiator;

_IFStigmaAvailable=140001118;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<66;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=783,60000,750,False,False; <-- Draining Sword // Melee // DPS-Heal // Both
#ENDIF

_IFStigmaAvailable=140001119;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=757,60000,750,False,False; <-- Whirling Strike // Melee // DPS // Both
#ENDIF

#EXECUTE=MidCombatGladiator;

_IFStigmaAvailable=641;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=641,90000,750,2500,False; <-- Unraveling Assault // Melee // DPS // Both
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetData/0x10C0,CHAR[1],=D;
_IFStigmaAvailable=657;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=657,180000,750,False,False; <-- Battle Banner // - // - // Asmo
#ENDIF

#EXECUTE=MidCombatGladiator;

_IFMemPtrRead=%PlayerBase,%OffsetData/0x10C0,CHAR[1],=L;
_IFStigmaAvailable=658;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=658,180000,750,False,False; <-- Battle Banner // - // - // Elyos
#ENDIF

_IFStigmaAvailable=727;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=727,180000,750,False,3250; <-- Wind Lance // Melee // DPS // Both
#ENDIF

#EXECUTE=MidCombatGladiator;

end_StigmaGladiator;



start_StigmaTemplar;

_IFStigmaAvailable=140001122;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=2931,300000,750,False,False; <-- Prayer of Victory // - // Heal // Both
#ENDIF

_IFStigmaAvailable=140001123;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=2944,120000,950,False,False; <-- Divine Justice // Ranged // DPS // Both
#ENDIF

#EXECUTE=MidCombatTemplar;

_IFStigmaAvailable=140001124;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=2973,180000,750,False,False; <-- Punishing Wave // Melee // DPS // Both
#ENDIF

_IFStigmaAvailable=140001128;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3035,180000,750,False,False; <-- Divine Fury // - // - // Both
#ENDIF

#EXECUTE=MidCombatTemplar;

_IFStigmaAvailable=140001129;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=2966,60000,750,False,False; <-- Holy Shield // - // - // Both
#ENDIF

_IFStigmaAvailable=140001130;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3147,60000,750,False,False; <-- Punishing Thrust // Melee // DPS // Both
#ENDIF

#EXECUTE=MidCombatTemplar;

_IFStigmaAvailable=140001131;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3181,30000,750,False,False; <-- Punishment // Melee // DPS // Both
#ENDIF

_IFStigmaAvailable=140001132;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=2938,180000,750,False,False; <-- Aether Armor // - // - // Both
#ENDIF

#EXECUTE=MidCombatTemplar;

_IFStigmaAvailable=140001133;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=2960,30000,750,False,False; <-- Inquisitor's Blow // Melee // DPS // Both
#ENDIF

_IFStigmaAvailable=140001134;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<66;
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,>60;
SmartSkill=2922,600000,750,False,False; <-- Empyrean Providence // - // Heal // Both
#ENDIF

#EXECUTE=MidCombatTemplar;

_IFStigmaAvailable=2919;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<66;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=2919,30000,750,False,False; <-- Invigorating Strike // Melee // DPS-Heal // Both
#ENDIF

_IFStigmaAvailable=2915;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<66;
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,>66;
SmartSkill=2915,180000,750,False,False; <-- Eternal Denial // - // Heal // Both
#ENDIF

#EXECUTE=MidCombatTemplar;

end_StigmaTemplar;



start_StigmaAssassin;

_IFStigmaAvailable=140001136;
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,>66;
SmartSkill=3326,180000,750,False,False; <-- Apply Lethal Venom // - // - // Both
#ENDIF

_IFStigmaAvailable=140001137;
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,>66;
SmartSkill=3254,12000,750,False,False; <-- Agony Rune // Melee // DPS // Both
#ENDIF

#EXECUTE=MidCombatAssassin;

_IFStigmaAvailable=140001138;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<66;
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,>66;
SmartSkill=3319,180000,750,False,False; <-- Sensory Boost // - // - // Both
#ENDIF

_IFStigmaAvailable=140001140;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3337,180000,750,False,False; <-- Dash and Slash // Melee // DPS // Both
#ENDIF

#EXECUTE=MidCombatAssassin;

_IFStigmaAvailable=140001142;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3320,300000,750,False,False; <-- Deadly Abandon // - // - // Both
#ENDIF

_IFStigmaAvailable=140001143;
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,>66;
SmartSkill=3480,180000,750,False,False; <-- Oath of Accuracy // - // - // Both
#ENDIF

#EXECUTE=MidCombatAssassin;

_IFStigmaAvailable=140001147;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3261,180000,750,False,False; <-- Venomous Strike // Melee // DPS // Both
#ENDIF

_IFStigmaAvailable=140001149;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3269,7000,750,False,False; <-- Rune Knife // Melee // DPS // Both
#ENDIF

#EXECUTE=MidCombatAssassin;

_IFStigmaAvailable=140001151;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3248,60000,750,False,False; <-- Quickening Doom // Melee // DPS // Both
#ENDIF

_IFStigmaAvailable=3239;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3239,120000,750,False,False; <-- Fangdrop Stab // Melee // DPS // Both
#ENDIF

#EXECUTE=MidCombatAssassin;

_IFStigmaAvailable=3242;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3242,60000,750,False,False; <-- Explosive Rebranding // Melee // DPS // Both
#ENDIF

end_StigmaAssassin;




start_StigmaRanger;

_IFStigmaAvailable=140001153;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=819,24000,1150,False,False; <-- Lethal Arrow // Ranged // DPS // Both
#ENDIF

_IFStigmaAvailable=140001154;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=825,20000,750,False,False; <-- Heart Shot // Ranged // DPS // Both
#ENDIF

#EXECUTE=MidCombatRanger;

_IFStigmaAvailable=140001156;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1052,7000,750,False,False; <-- Gale Arrow // Ranged // DPS // Both
#ENDIF

_IFStigmaAvailable=140001157;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1117,18000,750,False,False; <-- Explosive Arrow // Ranged // DPS // Both
#ENDIF

#EXECUTE=MidCombatRanger;

_IFBuffAlive=813;
MemWrite=%AddrFreeMem30,1,BYTE;
#ELSE
MemWrite=%AddrFreeMem30,0,BYTE;
#ENDIF
_IFMemRead=%AddrFreeMem30,BYTE,=0;
_IFStigmaAvailable=140001159;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=813,1000,850,False,False; <-- Focused Shots // - // - // Both
#ENDIF

_IFStigmaAvailable=140001162;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=880,30000,750,False,False; <-- Dilation Arrow // Ranged // DPS // Both
#ENDIF

#EXECUTE=MidCombatRanger;

_IFMemPtrRead=%PlayerBase,%OffsetData/0x10C0,CHAR[1],=L;
_IFStigmaAvailable=140001163;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=969,120000,2250,False,False; <-- Skybound Trap // - // - // Elyos
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetData/0x10C0,CHAR[1],=D;
_IFStigmaAvailable=140001164;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=977,120000,2250,False,False; <-- Skybound Trap // - // - // Asmo
#ENDIF

#EXECUTE=MidCombatRanger;

_IFMemPtrRead=%PlayerBase,%OffsetData/0x10C0,CHAR[1],=L;
_IFStigmaAvailable=140001165;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=985,20000,500,False,False; <-- Blazing Trap // - // - // Elyos
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetData/0x10C0,CHAR[1],=D;
_IFStigmaAvailable=140001166;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=993,20000,500,False,False; <-- Blazing Trap // - // - // Asmo
#ENDIF

#EXECUTE=MidCombatRanger;

_IFStigmaAvailable=140001168;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1057,180000,750,False,False; <-- Bow of Blessing // - // - // Both
#ENDIF

_IFStigmaAvailable=140001171;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1134,18000,750,False,False; <-- Arrow Deluge // Ranged // DPS // Both
#ENDIF

#EXECUTE=MidCombatRanger;

_IFStigmaAvailable=140001172;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=812,24000,750,False,False; <-- Agonizing Arrow // Ranged // DPS // Both
#ENDIF

_IFStigmaAvailable=140001173;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=871,30000,750,False,False; <-- Lightning Arrow // Ranged // DPS // Both
#ENDIF

#EXECUTE=MidCombatRanger;

_IFStigmaAvailable=1006;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1006,120000,2250,False,False; <-- Ripthread Shot // Ranged // DPS // Both
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetData/0x10C0,CHAR[1],=L;
_IFStigmaAvailable=1065;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1065,300000,500,False,False; <-- Staggering Trap // - // - // Elyos
#ENDIF

#EXECUTE=MidCombatRanger;

_IFMemPtrRead=%PlayerBase,%OffsetData/0x10C0,CHAR[1],=D;
_IFStigmaAvailable=1064;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1064,300000,500,False,False; <-- Staggering Trap // - // - // Asmo
#ENDIF

end_StigmaRanger;



start_StigmaSorcerer;

_IFStigmaAvailable=140001175;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4604,150000,1250,False,False; <-- Arcane Thunderbolt // Ranged // DPS // Both
#ENDIF

_IFStigmaAvailable=140001176;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1356,150000,1250,False,False; <-- Summon Rock // Ranged // DPS // Both
#ENDIF

#EXECUTE=MidCombatSorcerer;

_IFStigmaAvailable=140001177;
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,>66;
SmartSkill=1525,30000,3750,False,False; <-- Flame Spray // Ranged // DPS // Both
#ENDIF

_IFStigmaAvailable=140001178;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1555,180000,750,False,False; <-- Illusion Storm // Ranged // DPS // Both
#ENDIF

#EXECUTE=MidCombatSorcerer;

_IFStigmaAvailable=140001180;
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,>66;
SmartSkill=1493,120000,4250,False,False; <-- Storm Strike // Ranged // DPS // Both
#ENDIF

_IFStigmaAvailable=140001181;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4602,24000,1250,False,False; <-- Wind Cut Down // Ranged // DPS // Both
#ENDIF

#EXECUTE=MidCombatSorcerer;

_IFStigmaAvailable=140001186;
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,>66;
SmartSkill=1350,300000,550,False,False; <-- Boon of Quickness // - // - // Both
#ENDIF

_IFStigmaAvailable=140001187;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1183,60000,550,False,False; <-- Freeze // Ranged // DPS // Both
#ENDIF

#EXECUTE=MidCombatSorcerer;

_IFStigmaAvailable=140001189;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1383,6000,2750,False,False; <-- Ice Harpoon // Ranged // DPS // Both
#ENDIF

_IFStigmaAvailable=140001190;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<20;
_MemPtrReadVar=%PlayerBase,%OffsetMaxMP,WORD,11;
_MemPtrReadVar=%PlayerBase,%OffsetMP,WORD,12;
_Calc11=%Var12/%Var11;
_Calc11=%Var11*100;
MemWrite=%AddrFreeMem12,%Var11,FLOAT;
_IFMemRead=%AddrFreeMem12,FLOAT,>60;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1327,300000,550,False,False; <-- Exchange Vitality // - // - // Both
#ENDIF

#EXECUTE=MidCombatSorcerer;

_IFStigmaAvailable=140001191;
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,>66;
#IF=%TargetDistance,<6;
SmartSkill=1307,180000,550,False,False; <-- Wintry Armor // - // - // Both
#ENDIF

_IFStigmaAvailable=140001192;
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,>66;
SmartSkill=1326,60000,4250,False,False; <-- Glacial Shard // Ranged // DPS // Both
#ENDIF

#EXECUTE=MidCombatSorcerer;

_IFStigmaAvailable=1540;
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,>66;
SmartSkill=1540,180000,550,False,False; <-- Aetherblaze // - // - // Both
#ENDIF

_IFStigmaAvailable=1420;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<33;
SmartSkill=1420,300000,550,False,False; <-- Repulsion Field // - // Heal // Both
#ENDIF

#EXECUTE=MidCombatSorcerer;

end_StigmaSorcerer;




start_StigmaSpiritmaster;

_IFStigmaAvailable=140001193;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3574,30000,1250,False,False; <-- Shackle of Vulnerability // Ranged // DPS // Both
#ENDIF

_IFStigmaAvailable=140001195;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3561,30000,1750,False,False; <-- Infernal Pain // Ranged // DPS // Both
#ENDIF

#EXECUTE=MidCombatSpiritmaster;

_IFStigmaAvailable=140001196;
_IFFrameVisible=209; spirit window
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3548,30000,1050,False,False; <-- Spirit Ruinous Offensive // Ranged // DPS // Both
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetData/0x10C0,CHAR[1],=L;
_IFStigmaAvailable=140001197;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3807,30000,1750,False,False; <-- Summon Cyclone Servant // Ranged // DPS // Elyos
#ENDIF

#EXECUTE=MidCombatSpiritmaster;

_IFMemPtrRead=%PlayerBase,%OffsetData/0x10C0,CHAR[1],=D;
_IFStigmaAvailable=140001197;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3808,30000,1750,False,False; <-- Summon Cyclone Servant // Ranged // DPS // Asmo
#ENDIF

_IFStigmaAvailable=140001199;
_MemPtrReadVar=%TargetBase,%OffsetName,WCHAR[64],29;
Command=/select Wind Spirit;
#DO=125;
Delay=10;
#UNTIL=%TargetName,Wind Spirit;
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,<25;
SmartSkill=3590,90000,1750,False,False; <-- Healing Spirit // - // Heal // Both
Command=/select %Var29;
#ELSE
Command=/select %Var29;
#ENDIF

#EXECUTE=MidCombatSpiritmaster;

_IFStigmaAvailable=140001202;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3772,30000,550,False,3550; <-- Stone Scour // Ranged // DPS // Both
#ENDIF

_IFStigmaAvailable=140001203;
_IFFrameVisible=209; spirit window
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3836,180000,2250,False,False; <-- Spirit Burn-to-Ashes // Ranged // DPS // Both
#ENDIF

#EXECUTE=MidCombatSpiritmaster;

_IFStigmaAvailable=140001204;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3847,12000,2250,False,False; <-- Cyclone of Wrath // Ranged // DPS // Both
#ENDIF

_IFStigmaAvailable=140001205;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3581,120000,2250,False,False; <-- Withering Gloom // Ranged // DPS // Both
#ENDIF

#EXECUTE=MidCombatSpiritmaster;

_IFStigmaAvailable=140001206;
_IFFrameVisible=209; spirit window
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3531,120000,1050,False,False; <-- Spirit Wall of Protection // - // - // Both
#ENDIF

_IFStigmaAvailable=140001208;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_MemPtrReadVar=%PlayerBase,0x30,WORD,29;
_IFMemPtrRead=%AddrFrameID[2],0x558,WORD,=%Var29; <-- if target has player as target
SmartSkill=3739,30000,550,False,False; <-- Enmity Swap // - // - // Both
#ENDIF

#EXECUTE=MidCombatSpiritmaster;

_IFStigmaAvailable=140001209;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3547,180000,1250,False,False; <-- Infernal Blight // - // - // Both
#ENDIF

_IFStigmaAvailable=140001210;
_IFFrameVisible=209; spirit window
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3796,60000,1250,False,False; <-- Armor Spirit // - // - // Both
#ENDIF

#EXECUTE=MidCombatSpiritmaster;

_IFFrameVisible=209; spirit window
MemWrite=%AddrFreeMem30,0,BYTE;
#ELSE
MemWrite=%AddrFreeMem30,1,BYTE;
#ENDIF
_IFMemRead=%AddrFreeMem30,BYTE,=1;
_IFStigmaAvailable=3541;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3541,180000,550,False,False; <-- Spirit's Empowerment // - // - // Both
#ENDIF

_IFStigmaAvailable=3549;
_IFFrameVisible=209; spirit window
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<33;
SmartSkill=3549,300000,550,False,False; <-- Command: Absorb Wounds // - // - // Both
#ENDIF

#EXECUTE=MidCombatSpiritmaster;

_IFStigmaAvailable=3849;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3849,180000,1250,False,False; <-- Blood Funnel // Ranged // DPS // Both
#ENDIF

end_StigmaSpiritmaster;



start_StigmaCleric;

_IFStigmaAvailable=140001228;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4187,90000,1250,False,False; <-- Enfeebling Burst // Ranged // DPS // Both
#ENDIF

_IFStigmaAvailable=140001229;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4149,180000,2250,False,False; <-- Chain of Suffering // Ranged // DPS // Both
#ENDIF

#EXECUTE=MidCombatCleric;

_IFMemPtrRead=%PlayerBase,%OffsetData/0x10C0,CHAR[1],=L;
_IFStigmaAvailable=140001230;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4162,30000,550,False,False; <-- Summon Noble Energy // Ranged // DPS // Elyos
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetData/0x10C0,CHAR[1],=D;
_IFStigmaAvailable=140001231;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4163,30000,550,False,False; <-- Summon Noble Energy // Ranged // DPS // Asmo
#ENDIF

#EXECUTE=MidCombatCleric;

_IFStigmaAvailable=140001232;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<66;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4003,60000,550,False,False; <-- Splendor of Rebirth // - // Heal // Both
#ENDIF

_IFStigmaAvailable=140001233;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3997,120000,1250,False,False; <-- Ripple of Purification // - // Heal // Both
#ENDIF

#EXECUTE=MidCombatCleric;

_IFMemPtrRead=%PlayerBase,%OffsetData/0x10C0,CHAR[1],=L;
_IFStigmaAvailable=140001234;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<85;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3990,60000,1250,False,False; <-- Summon Healing Servant // - // Heal // Elyos
#ENDIF

_IFMemPtrRead=%PlayerBase,%OffsetData/0x10C0,CHAR[1],=D;
_IFStigmaAvailable=140001235;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<85;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3991,60000,1250,False,False; <-- Summon Healing Servant // - // Heal // Asmo
#ENDIF

#EXECUTE=MidCombatCleric;

_IFStigmaAvailable=140001236;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3931,120000,550,False,False; <-- Saving Grace // - // Heal // Both
#ENDIF

_IFSkillActive=3902;
MemWrite=%AddrFreeMem29,1,BYTE;
#ELSE
MemWrite=%AddrFreeMem29,0,BYTE;
#ENDIF
_IFStigmaAvailable=140001237;
_IFMemRead=%AddrFreeMem29,BYTE,=0;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3902,10000,550,False,False; <-- Sacrificial Power // - // - // Both
#ENDIF

#EXECUTE=MidCombatCleric;

_IFStigmaAvailable=140001238;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<66;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3960,10000,2250,False,False; <-- Binding Light // - // Heal // Both
#ENDIF

_IFStigmaAvailable=140001240;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4143,30000,550,False,False; <-- Retribution Lightning // Ranged // DPS // Both
#ENDIF

#EXECUTE=MidCombatCleric;

_IFStigmaAvailable=140001242;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,>75;
_MemPtrReadVar=%PlayerBase,%OffsetMaxMP,WORD,11;
_MemPtrReadVar=%PlayerBase,%OffsetMP,WORD,12;
_Calc11=%Var12/%Var11;
_Calc11=%Var11*100;
MemWrite=%AddrFreeMem12,%Var11,FLOAT;
_IFMemRead=%AddrFreeMem12,FLOAT,10-20;
SmartSkill=3904,600000,550,False,False; <-- Reverse Condition // - // Heal // Both
#ENDIF

_IFStigmaAvailable=140001243;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4134,60000,550,False,False; <-- Festering Wound // Ranged // DPS // Both
#ENDIF

#EXECUTE=MidCombatCleric;

_IFStigmaAvailable=140001244;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4192,180000,550,False,False; <-- Noble Grace // - // - // Both
#ENDIF

_IFStigmaAvailable=140001245;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4166,60000,3250,False,False; <-- Call Lightning // Ranged // DPS // Both
#ENDIF

#EXECUTE=MidCombatCleric;

_IFSkillActive=3902;
MemWrite=%AddrFreeMem29,1,BYTE;
#ELSE
MemWrite=%AddrFreeMem29,0,BYTE;
#ENDIF
_IFSkillActive=3905;
MemWrite=%AddrFreeMem28,1,BYTE;
#ELSE
MemWrite=%AddrFreeMem28,0,BYTE;
#ENDIF
_IFStigmaAvailable=140001245;
_IFMemRead=%AddrFreeMem28,BYTE,=0;
_IFMemRead=%AddrFreeMem29,BYTE,=0;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3905,1000,550,False,False; <-- Benevolence // - // - // Both
#ENDIF

_IFStigmaAvailable=3932;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=3932,180000,550,False,False; <-- Restoration Relief // - // Heal // Both
#ENDIF

#EXECUTE=MidCombatCleric;

end_StigmaCleric;



start_StigmaChanter;

_IFBuffAlive=1756;
MemWrite=%AddrFreeMem30,1,BYTE;
#ELSE
MemWrite=%AddrFreeMem30,0,BYTE;
#ENDIF
_IFMemRead=%AddrFreeMem30,BYTE,=0;
_IFStigmaAvailable=140001211;
SmartSkill=1756,500,550,False,False; <-- Blessing of Stone // - // - // Both
#ENDIF

_IFStigmaAvailable=140001212;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<50;
SmartSkill=1857,10000,2250,False,False; <-- Healing Burst // - // Heal // Both
#ENDIF

#EXECUTE=MidCombatChanter;

_IFStigmaAvailable=140001213;
_SetVar30=1907;
#EXECUTE=IsStigmaAvailable;
_IFMemRead=%AddrFreeMem30,BYTE,=0;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1755,14500,550,False,False; <-- Word of Protection // - // - // Both
#ENDIF

_IFStigmaAvailable=140001214;
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,>66;
SmartSkill=1656,180000,550,False,False; <-- Blessing of Wind // - // - // Both
#ENDIF

#EXECUTE=MidCombatChanter;

_IFStigmaAvailable=140001215;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1868,60000,550,False,False; <-- Disorienting Blow // Melee // DPS // Both
#ENDIF

_IFStigmaAvailable=140001216;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1874,30000,750,False,False; <-- Mountain Crash // Ranged // DPS // Both
#ENDIF

#EXECUTE=MidCombatChanter;

_IFStigmaAvailable=140001213;
MemWrite=%AddrFreeMem29,1,BYTE;
#ELSE
MemWrite=%AddrFreeMem29,0,BYTE;
#ENDIF
_IFStigmaAvailable=1907;
MemWrite=%AddrFreeMem28,1,BYTE;
#ELSE
MemWrite=%AddrFreeMem28,0,BYTE;
#ENDIF
_IFStigmaAvailable=140001217;
_IFMemRead=%AddrFreeMem29,BYTE,=0;
_IFMemRead=%AddrFreeMem28,BYTE,=0;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1579,14500,550,False,False; <-- Word of Inspiration // - // - // Both
#ENDIF

_IFStigmaAvailable=140001218;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1647,60000,550,1500,False; <-- Annihilation // Melee // DPS // Both
#ENDIF

#EXECUTE=MidCombatChanter;

_IFStigmaAvailable=140001219;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1734,60000,550,False,False; <-- Word of Life // - // Heal // Both
#ENDIF

_IFStigmaAvailable=140001220;
#EXECUTE=IsCC;
_IFMemRead=%AddrFreeMem30,BYTE,=1;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1767,30000,550,False,False; <-- Soul Lock // Ranged // DPS // Both
#ENDIF

#EXECUTE=MidCombatChanter;

_IFStigmaAvailable=140001223;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4629,30000,550,False,3250; <-- Leaping Flash // Melee // DPS // Both
#ENDIF

_IFStigmaAvailable=140001224;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4638,120000,550,False,False; <-- Healing Conduit // - // Heal // Both
#ENDIF

#EXECUTE=MidCombatChanter;

_IFStigmaAvailable=140001226;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<40;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1834,180000,550,False,False; <-- Elemental Screen // - // - // Both
#ENDIF

_IFStigmaAvailable=140001227;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1837,40000,550,False,False; <-- Numbing Blow // Melee // DPS // Both
#ENDIF

#EXECUTE=MidCombatChanter;

_IFStigmaAvailable=1907;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=,60000,550,False,False; <-- Word of Instigation // - // - // Both
#ENDIF

_IFStigmaAvailable=1901;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=1901,120000,550,False,False; <-- Resonant Strike // Melee // DPS // Both
#ENDIF

#EXECUTE=MidCombatChanter;

end_StigmaChanter;





start_StigmaGunslinger;

_IFStigmaAvailable=140001247;
#IF=%Timer=1981,30000;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2800; <-- base atkspeed equals cannon
SendAction=3,4; <-- switch weapon
#ENDIF
_IFStigmaAvailable=140001247;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2250;
SmartSkill=1981,30000,550,False,False; <-- Hemorrhage Shot // Ranged // DPS // Both
#ENDIF

_IFStigmaAvailable=140001248;
#IF=%Timer=2052,30000;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2800; <-- base atkspeed equals cannon
SendAction=3,4; <-- switch weapon
#ENDIF
_IFStigmaAvailable=140001248;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2250;
SmartSkill=2052,30000,550,False,False; <-- Pressurized Chamber // - // - // Both
#ENDIF

#EXECUTE=MidCombatGunslinger;

_IFStigmaAvailable=140001250;
#IF=%Timer=1975,30000;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2250; <-- base atkspeed equals gun
SendAction=3,4; <-- switch weapon
#ENDIF
_IFStigmaAvailable=140001250;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2800;
SmartSkill=1975,30000,550,False,False; <-- Juggernaut Cannon // Ranged // DPS // Both
#ENDIF

_IFStigmaAvailable=140001251;
#IF=%Timer=2114,120000;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2250; <-- base atkspeed equals gun
SendAction=3,4; <-- switch weapon
#ENDIF
_IFStigmaAvailable=140001251;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2800;
SmartSkill=2114,120000,550,False,False; <-- Paralysis Cannon // Ranged // DPS // Both
#ENDIF

#EXECUTE=MidCombatGunslinger;

_IFStigmaAvailable=140001252;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=2046,60000,550,False,False; <-- Stopping Power // - // - // Both
#ENDIF

_IFStigmaAvailable=140001253;
#IF=%Timer=2123,30000;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2800;
SendAction=3,4;
#ENDIF
_IFStigmaAvailable=140001253;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2250;
SmartSkill=2123,30000,550,3000,False; <-- Steady Fire // Ranged // DPS // Both
#ENDIF

#EXECUTE=MidCombatGunslinger;

_IFStigmaAvailable=140001255;
#IF=%Timer=2105,16000;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2250; <-- base atkspeed equals gun
SendAction=3,4; <-- switch weapon
#ENDIF
_IFStigmaAvailable=140001255;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2800;
SmartSkill=2105,16000,550,False,False; <-- Frozen Blitz // Ranged // DPS // Both
#ENDIF

_IFStigmaAvailable=140001256;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=2273,60000,550,False,False; <-- Sighting // - // - // Both
#ENDIF

#EXECUTE=MidCombatGunslinger;

_IFStigmaAvailable=140001257;
#IF=%Timer=2367,30000;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2800; <-- base atkspeed equals cannon
SendAction=3,4; <-- switch weapon
#ENDIF
_IFStigmaAvailable=140001257;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<75;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2250;
SmartSkill=2367,30000,550,False,False; <-- Power Grab // - // DPS-Heal // Both
#ENDIF

_IFStigmaAvailable=140001258;
#IF=%Timer=2090,30000;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2250; <-- base atkspeed equals gun
SendAction=3,4; <-- switch weapon
#ENDIF
_IFStigmaAvailable=140001258;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2800;
SmartSkill=2090,30000,550,False,3550; <-- Fiery Blast // Ranged // DPS // Both
#ENDIF

#EXECUTE=MidCombatGunslinger;

_IFStigmaAvailable=140001259;
#IF=%Timer=2253,40000;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2250; <-- base atkspeed equals gun
SendAction=3,4; <-- switch weapon
#ENDIF
_IFStigmaAvailable=140001259;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2800;
SmartSkill=2253,40000,550,False,3550; <-- Shock and Awe // Ranged // DPS // Both
#ENDIF

_IFStigmaAvailable=140001260;
#IF=%Timer=2295,120000;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2250; <-- base atkspeed equals gun
SendAction=3,4; <-- switch weapon
#ENDIF
_IFStigmaAvailable=140001260;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2800;
SmartSkill=2295,120000,550,False,4250; <-- Missile Guide // Ranged // DPS // Both
#ENDIF

#EXECUTE=MidCombatGunslinger;

_IFStigmaAvailable=140001261;
#IF=%Timer=2319,24000;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2250; <-- base atkspeed equals gun
SendAction=3,4; <-- switch weapon
#ENDIF
_IFStigmaAvailable=140001261;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2800;
SmartSkill=2319,24000,550,False,3550; <-- Blazing Bombardment // Ranged // DPS // Both
#ENDIF

_IFStigmaAvailable=140001262;
#IF=%Timer=2068,40000;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2800; <-- base atkspeed equals cannon
SendAction=3,4; <-- switch weapon
#ENDIF
_IFStigmaAvailable=140001262;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2250;
SmartSkill=2068,40000,550,False,False; <-- Dazzling Fire // Ranged // DPS // Both
#ENDIF

#EXECUTE=MidCombatGunslinger;

_IFStigmaAvailable=140001263;
#IF=%Timer=2201,24000;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2250; <-- base atkspeed equals gun
SendAction=3,4; <-- switch weapon
#ENDIF
_IFStigmaAvailable=140001263;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2800;
SmartSkill=2201,24000,550,False,3550; <-- Shellshock // Ranged // DPS // Both
#ENDIF

_IFStigmaAvailable=2368;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=2368,180000,550,False,False; <-- Pursuit Stance // - // - // Both
#ENDIF

#EXECUTE=MidCombatGunslinger;

_IFStigmaAvailable=2377;
#IF=%Timer=2377,120000;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2250; <-- base atkspeed equals gun
SendAction=3,4; <-- switch weapon
#ENDIF
_IFStigmaAvailable=2377;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2800;
SmartSkill=2377,120000,550,False,4250; <-- Sequential Fire // Ranged // DPS // Both
#ENDIF

_IFStigmaAvailable=2380;
#IF=%Timer=2380,120000;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2800; <-- base atkspeed equals cannon
SendAction=3,4; <-- switch weapon
#ENDIF
_IFStigmaAvailable=2380;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetData/0x534,WORD,=2250;
SmartSkill=2380,120000,550,1500,False; <-- Pulverizer Cannon // Ranged // DPS // Both
#ENDIF

#EXECUTE=MidCombatGunslinger;

end_StigmaGunslinger;





start_StigmaSongweaver;

_IFStigmaAvailable=140001282;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4529,60000,1250,False,False; <-- Paean of Pain // Ranged // DPS // Both
#ENDIF

_IFStigmaAvailable=140001284;
MemWrite=%AddrFreeMem29,1,BYTE;
#ELSE
MemWrite=%AddrFreeMem29,0,BYTE;
#ENDIF
_IFSkillActive=4589;
MemWrite=%AddrFreeMem28,1,BYTE;
#ELSE
MemWrite=%AddrFreeMem28,0,BYTE;
#ENDIF
_IFStigmaAvailable=140001283;
_IFMemRead=%AddrFreeMem29,BYTE,=0;
_IFMemRead=%AddrFreeMem28,BYTE,=0;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4589,12000,550,False,False; <-- Exultation // - // - // Both
#ENDIF

#EXECUTE=MidCombatSongweaver;

_IFSkillActive=4590;
MemWrite=%AddrFreeMem29,1,BYTE;
#ELSE
MemWrite=%AddrFreeMem29,0,BYTE;
#ENDIF
_IFStigmaAvailable=140001284;
_IFMemRead=%AddrFreeMem29,BYTE,=0;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4590,12000,550,False,False; <-- Impassion // - // - // Both
#ENDIF

_IFStigmaAvailable=140001285;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<45;
SmartSkill=4518,3000,550,False,3550; <-- Soothing Hymn // - // Heal // Both
#ENDIF

#EXECUTE=MidCombatSongweaver;

_IFStigmaAvailable=140001286;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<70;
SmartSkill=4367,24000,550,False,False; <-- Joyous Carol // - // Heal // Both
#ENDIF

_IFStigmaAvailable=140001288;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4550,30000,550,False,False; <-- Stinging Note // Ranged // DPS // Both
#ENDIF

#EXECUTE=MidCombatSongweaver;

_IFStigmaAvailable=140001289;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<75;
SmartSkill=4537,60000,550,False,False; <-- Hymn of Rejuvenation // - // Heal // Both
#ENDIF

_IFStigmaAvailable=140001291;
_MemPtrReadVar=%TargetBase,%OffsetData/0x30,WORD,29;
_IFMemPtrRead=%AddrFrameID[20],0x710,WORD,=%Var29;
_IFMemPtrRead=%AddrFrameID[20],0x758,DWORD,>0; has buffs
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4542,30000,550,False,False; <-- Half-Stop // - // - // Both
#ENDIF

#EXECUTE=MidCombatSongweaver;

_IFStigmaAvailable=140001294;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_MemPtrReadVar=%PlayerBase,%OffsetMaxMP,WORD,11;
_MemPtrReadVar=%PlayerBase,%OffsetMP,WORD,12;
_Calc11=%Var12/%Var11;
_Calc11=%Var11*100;
MemWrite=%AddrFreeMem12,%Var11,FLOAT;
_IFMemRead=%AddrFreeMem12,FLOAT,<20;
SmartSkill=4391,60000,550,False,False; <-- Resonant Hymn // - // - // Both
#ENDIF

_IFStigmaAvailable=140001295;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4579,60000,550,False,False; <-- Combustible Cacophony // Ranged // DPS // Both
#ENDIF

#EXECUTE=MidCombatSongweaver;

_IFStigmaAvailable=140001296;
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,>66;
SmartSkill=4489,60000,550,False,False; <-- Treble Cleave // Ranged // DPS // Both
#ENDIF

_IFStigmaAvailable=140001297;
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<75;
SmartSkill=4486,60000,550,False,False; <-- Chorus of Blessing // - // Heal // Both
#ENDIF

#EXECUTE=MidCombatSongweaver;

_IFStigmaAvailable=4483;
_IFMemPtrRead=%AddrFrameID[168],0x75C,DWORD,>0; has debuffs
_IFMemPtrRead=%TargetBase,%OffsetHP,DWORD,>0;
SmartSkill=4483,30000,550,False,False; <-- Purging Paean // - // - // Both
#ENDIF

_IFStigmaAvailable=4474;
_IFMemPtrRead=%TargetBase,%OffsetPercentHP,BYTE,>66;
SmartSkill=4474,60000,3550,False,False; <-- Blazing Requiem // Ranged // DPS // Both
#ENDIF

#EXECUTE=MidCombatSongweaver;

end_StigmaSongweaver;









start_IsCC;

MemWrite=%AddrFreeMem29,0,BYTE;

#EXECUTE=IsStun;
_IFMemRead=%AddrFreeMem30,BYTE,=1;
MemWrite=%AddrFreeMem29,1,BYTE;
#ENDIF

#EXECUTE=IsAerial;
_IFMemRead=%AddrFreeMem30,BYTE,=1;
MemWrite=%AddrFreeMem29,1,BYTE;
#ENDIF

#EXECUTE=IsStumble;
_IFMemRead=%AddrFreeMem30,BYTE,=1;
MemWrite=%AddrFreeMem29,1,BYTE;
#ENDIF

_IFMemRead=%AddrFreeMem29,BYTE,=1;
MemWrite=%AddrFreeMem30,1,BYTE;
#ENDIF

end_IsCC;





start_IsAerial; <-- debuff IDs need to be updated

MemWrite=%AddrFreeMem30,0,BYTE;

_IFTargetDebuffAlive=8218;
MemWrite=%AddrFreeMem30,1,BYTE;
#ENDIF

_IFTargetDebuffAlive=8219;
MemWrite=%AddrFreeMem30,1,BYTE;
#ENDIF

_IFTargetDebuffAlive=8676;
MemWrite=%AddrFreeMem30,1,BYTE;
#ENDIF

_IFTargetDebuffAlive=8635;
MemWrite=%AddrFreeMem30,1,BYTE;
#ENDIF

_IFTargetDebuffAlive=8636;
MemWrite=%AddrFreeMem30,1,BYTE;
#ENDIF

_IFTargetDebuffAlive=8637;
MemWrite=%AddrFreeMem30,1,BYTE;
#ENDIF

end_IsAerial;




start_IsStun; <-- debuff IDs need to be updated

MemWrite=%AddrFreeMem30,0,BYTE;

_IFTargetDebuffAlive=8218;
MemWrite=%AddrFreeMem30,1,BYTE;
#ENDIF

_IFTargetDebuffAlive=8219;
MemWrite=%AddrFreeMem30,1,BYTE;
#ENDIF

_IFTargetDebuffAlive=8676;
MemWrite=%AddrFreeMem30,1,BYTE;
#ENDIF

_IFTargetDebuffAlive=8635;
MemWrite=%AddrFreeMem30,1,BYTE;
#ENDIF

_IFTargetDebuffAlive=8636;
MemWrite=%AddrFreeMem30,1,BYTE;
#ENDIF

_IFTargetDebuffAlive=8637;
MemWrite=%AddrFreeMem30,1,BYTE;
#ENDIF

end_IsStun;




start_IsStumble; <-- debuff IDs need to be updated

MemWrite=%AddrFreeMem30,0,BYTE;

_IFTargetDebuffAlive=8218;
MemWrite=%AddrFreeMem30,1,BYTE;
#ENDIF

_IFTargetDebuffAlive=8219;
MemWrite=%AddrFreeMem30,1,BYTE;
#ENDIF

_IFTargetDebuffAlive=8676;
MemWrite=%AddrFreeMem30,1,BYTE;
#ENDIF

_IFTargetDebuffAlive=8635;
MemWrite=%AddrFreeMem30,1,BYTE;
#ENDIF

_IFTargetDebuffAlive=8636;
MemWrite=%AddrFreeMem30,1,BYTE;
#ENDIF

_IFTargetDebuffAlive=8637;
MemWrite=%AddrFreeMem30,1,BYTE;
#ENDIF

end_IsStumble;






start_Potion;

_IFMemRead=%AddrFreeMem4,BYTE,=1;
MemPtrWrite=%PlayerBase,%OffsetAnim,300,WORD; <-- Activate NoAnim
#ENDIF


_MemPtrReadVar=%PlayerBase,%OffsetMaxMP,WORD,11; <-- saves max MP in %Var11
_MemPtrReadVar=%PlayerBase,%OffsetMP,WORD,12; <-- saves current MP in %Var12
_Calc11=%Var12/%Var11; <-- divides %Var12 trough %Var11 and saves the result in %Var11
_Calc11=%Var11*100; <-- multiplies %Var11 with 100 and saves the result in %Var11
MemWrite=%AddrFreeMem12,%Var11,FLOAT; <-- writes current mana percent value in %AddrFreeMem12
MemWrite=%AddrFreeMem10,%Var3,WCHAR[1];

_IFMemRead=%AddrFreeMem10,BYTE,65-122;
_IFMemRead=%AddrFreeMem12,FLOAT,<50; <-- If mana below 50%
#IF=%Timer=162000124,30000;
Command=/Use %Var3;
CreateTimer=162000124;
#ENDIF


_IFMemRead=%AddrFreeMem10,BYTE,65-122;
_IFMemPtrRead=%PlayerBase,%OffsetPercentHP,BYTE,<40;
#IF=%Timer=162000124,30000;
Command=/Use %Var3;
CreateTimer=162000124;
#ENDIF

end_Potion;


start_ActivateLootPet;

_IFSkillActive=50045;
#ELSE
UseID=50045;
#ENDIF
_IFSkillActive=50045;
#ELSE
UseID=50045;
#ENDIF

end_ActivateLootPet;


start_ReplyWhispers;

MemWrite=%AddrFreeMem19,%Var19,WCHAR[1];

_IFMemRead=%AddrFreeMem19,BYTE,65-122;
_SearchChatLog=\[charname:.*?] Whispers:;
Delay=1000;
SendKey=0x54; <-- Presses "T" in order to reply to whispers
Delay=300;
#ClearChatLog
SendKey=%Var19;
Delay=3000;
SendKey=0x0D;
Delay=250;
#ENDIF

end_ReplyWhispers;
